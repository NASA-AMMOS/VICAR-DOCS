<!-- HTML generated by @(#)xref  1.15  96/02/13 on Thu May  8 14:00:41 1997 -->
<!-- Sourcefile System Disk:Installation Manual:Source:defineenvironmentvariables.htxr was last changed Thu May  8 13:33:31 1997 -->
<HTML>
<HEAD>
<TITLE>defineenvironmentvariables.html</TITLE>
</HEAD>
<BODY>

<HTML>
<HEAD><TITLE>Defining Environment Variables</TITLE></HEAD>

<a href="loginscript.html">[PREVIOUS]</a> <a href="index.html">[TOP]</a> <a href="solaris25notes.html">[NEXT]</a> <HR>


<H1><b>4.2</b> <a name="DefEnvVar">Defining Environment Variables</a></H1>

<P>Once the CD or tape has been read and the files created on disk, the
environment variables needed for VICAR to run must be set up. Two shell scripts
are provided with the VICAR system to accomplish this task for you. Both reside
in the root of the VICAR directory tree (<KBD>$V2TOP</KBD>), and are called 
<KBD>vicset1.csh</KBD> and <KBD>vicset2.csh</KBD>.</P>

<P>The root directory is specified via the environment variable 
<KBD>$V2TOP</KBD>. All
VICAR file and directory references key off of this environment variable, so the
tree may be moved as needed. The shell scripts <KBD>vicset1.csh</KBD> and 
<KBD>vicset2.csh</KBD> set
up all other environment variables based on <KBD>$V2TOP</KBD>. Note that 
<KBD>$V2TOP</KBD> should point to the vicar subdirectory of the directory 
you created in "Loading VICAR."</P>

<P>Since these scripts define environment variables, they must be executed via
the "source" command so that the environment will actually change. The $V2TOP
environment variable should be set up first; if it is not, then vicset1.csh will
prompt for the name of the VICAR root directory. <EM>Important 
Note</EM>: Due to limitations in TAE, the directory you choose for VICAR 
must not have any uppercase letters in the pathname. In other words, 
<KDB>/CDROM</KBD> will <I>not</I> work with TAE, though it will work with SAGE.</P>

<P>In order to allow changes in the location of VICAR, you may wish to put a
source-able script in /usr/local/bin that sets $V2TOP then source's vicset1.csh
and vicset2.csh. That way, the user does not hard-code the VICAR directory
location into his/her own .cshrc file. For example, the script might look
like:</P>

<P><KBD># Set up VICAR</KBD><BR><KBD>% setenv V2TOP
/wherever/vicar</KBD><BR><KBD>% source $V2TOP/vicset1.csh</KBD><BR><KBD>% source
$V2TOP/vicset2.csh </KBD><BR><KBD>% set path=($path $TAEBIN/{all,$TAEPLAT})
</KBD></P>

<P>Users who want to make use of VICAR consistently should source vicset1.csh
and vicset2.csh (or the script in /usr/local/bin) in their .cshrc file, so it is
always available.</P>

<P>vicset1.csh defines only environment variables, while vicset2.csh sets up TAE
and defines some aliases. They do not really need to be split into two files,
but are kept that way for compatibility with the VMS version of VICAR.</P>

<P>There are some environment variables in vicset1.csh that might need to be
modified for your site. Some Sun systems put the /tmp directory in the swap
partition in order to save disk space. A bug exists in some versions of SunOS
(4.1.x at least) that causes the lockf() system call to fail if the  file is in
such a directory. If this is the case on your system, then read the comments for
the VRDITMP environment variable in vicset1.csh, uncomment it, and set it
appropriately.</P>

<P>Some external software such as SPICE and PDS_LABEL_LIB reside outside the
VICAR tree. Some environment variables in vicset1.csh point to this software and
may need to be changed for your system. Also, the X-Windows library locations
may need to be modified. These would affect imake templates
$V2UTIL/imake_unix.tmpl and $V2UTIL/vicsys.tmpl.</P>

<H2><b></b> <a name="UNIXslogon">Modifying TAE's slogon.pdf</a></H2>

<P>The startup file slogon.pdf, in the directory $V2TOP/tae52/pdf is run
every time a user starts up TAE, i.e. types VICAR. It's not run when starting
SAGE. The commands in slogon.pdf are in the TAE Command Language (TCL).
You can get help on TCL by typing HELP at the VICAR prompt.</P>

<P>You may want to modify slogon.pdf to change VICAR's behavior. As an 
example, you may want to run most of VICAR from a CD, but substitute a 
few more recent executables from hard disk. In this case you want VICAR 
to look for a PDF first on hard disk, then on the CD. To do this:</P>

<OL>
<LI>Copy the vicset1.csh from the CD to a convenient hard disk
directory:<BR>
<KBD>% cp $V2TOP/vicset1.csh /usr/local/vicar</KBD>
<LI>Create an environment variable in $V2TOP/vicset1.csh that points to 
the directory on hard disk where you're keeping your revised 
PDFs/executables:<BR>
<KBD>% setenv  VREVISE  /usr/local/vicar/revised</KBD><BR>
<LI>Edit the setlib command in slogon.pdf so your on-disk directory 
comes first:<BR>
<KBD>setlib ($VREVISE, $V2LIB, $VIDSLIB 
$R1LIB, $R2LIB, $TAEBIN/$TAEPLAT, $R3LIB, $GUILIB, $MPFLIB ,$HWLIB)</KBD>
<LI>Edit the system login script so that the modified 
<KBD>/usr/local/vicar/vicset1.csh</KBD> script is used when starting VICAR.
</OL>
<HR>
Next:      <a href="solaris25notes.html">Notes on using Solaris 2.5</a><BR>
Previous: <a href="loginscript.html"><XTEXT name="sysname"> Interactions with Login (.cshrc) Scripts </a><BR>
Top:      <a href="index.html">VICAR Installation Table of Contents</a><BR>
Updated Thu May  8 13:33:31 1997
by <a href="mailto:lkb@mipl7.jpl.nasa.gov">Larry Bolef</A>

</BODY>
</HTML>

</BODY>
</HTML>