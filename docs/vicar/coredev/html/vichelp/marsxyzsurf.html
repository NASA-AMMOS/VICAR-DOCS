<HTML>
<HEAD><title>HTML Help for MARSXYZSURF</title></HEAD>
<BODY>
<H1>Help for MARSXYZSURF</H1>
<pre>
PURPOSE:
Simple program to compute a "fake" xyz product by projecting the
camera model to a <A HREF="/VICAR-DOCS/vicar/coredev/html/vichelp/marsxyzsurf_level2.html#surface">surface</A>. 

The program supports the same procedural <A HREF="/VICAR-DOCS/vicar/coredev/html/vichelp/marsxyzsurf_level2.html#surface">surface</A> models as marsfakedisp
including planes, spheres, and mesh files. 

The output format is similar to the product made by marsxyz.

marsxyzsurf will generate either three separate one-band files (x, y, z), or
a single 3-band file, depending on the number of filenames given. The output
files are in the coordinates of the input image. This means there
is a 1:1 correspondence between output pixels and the input file.

Units of XYZ are in meters, in the coordinate system specified by the
<A HREF="/VICAR-DOCS/vicar/coredev/html/vichelp/marsxyzsurf_level2.html#coord">COORD</A> and COORD_SYS parameters.

EXECUTION:
marsxyzsurf <A HREF="/VICAR-DOCS/vicar/coredev/html/vichelp/marsxyzsurf_level2.html#inp">inp</A>=input.img <A HREF="/VICAR-DOCS/vicar/coredev/html/vichelp/marsxyzsurf_level2.html#out">out</A>=xyz.img <A HREF="/VICAR-DOCS/vicar/coredev/html/vichelp/marsxyzsurf_level2.html#surf_mesh">SURF_MESH</A>=input.obj <A HREF="/VICAR-DOCS/vicar/coredev/html/vichelp/marsxyzsurf_level2.html#surface">SURFACE</A>=MESH 
<A HREF="/VICAR-DOCS/vicar/coredev/html/vichelp/marsxyzsurf_level2.html#surf_coord">SURF_COORD</A>=Rover

where:
input.img is the input image
xyz.img is a 3-band file with the X, Y, and Z values at that pixel in meters.
input.obj is the input mesh (.obj) file

This example uses an .obj mesh file as the <A HREF="/VICAR-DOCS/vicar/coredev/html/vichelp/marsxyzsurf_level2.html#surface">surface</A> to use to generate the xyz 
product.

METHOD:

marsxyzsurf intersects the ray through each pixel of the output image 
against the requested <A HREF="/VICAR-DOCS/vicar/coredev/html/vichelp/marsxyzsurf_level2.html#surface">surface</A> model to records the x, y, z values


<A NAME="CogProg">COGNIZANT PROGRAMMER:  Bob Deen</A>

HISTORY: 
Jan. 2021 Initial Version: Bob Crocco

</pre>
<hr>
<H2>PARAMETERS:</H2>
<HR><A HREF="/VICAR-DOCS/vicar/coredev/html/vichelp/marsxyzsurf_level2.html#inp"><H3>INP</H3></A>
Input image.
Must be 1.

<HR><A HREF="/VICAR-DOCS/vicar/coredev/html/vichelp/marsxyzsurf_level2.html#out"><H3>OUT</H3></A>
Output files
(x,y,z) triplet
or 1 3-band file.

<HR><A HREF="/VICAR-DOCS/vicar/coredev/html/vichelp/marsxyzsurf_level2.html#navtable"><H3>NAVTABLE</H3></A>
Corrected navigation
filename.

<HR><A HREF="/VICAR-DOCS/vicar/coredev/html/vichelp/marsxyzsurf_level2.html#config_path"><H3>CONFIG_PATH</H3></A>
Path used to find
configuration/calibration
files.

<HR><A HREF="/VICAR-DOCS/vicar/coredev/html/vichelp/marsxyzsurf_level2.html#point_method"><H3>POINT_METHOD</H3></A>
Specifies a mission-
specific pointing
method to use

<HR><A HREF="/VICAR-DOCS/vicar/coredev/html/vichelp/marsxyzsurf_level2.html#match_method"><H3>MATCH_METHOD</H3></A>
Specifies a method
for pointing corrections.

<HR><A HREF="/VICAR-DOCS/vicar/coredev/html/vichelp/marsxyzsurf_level2.html#match_tol"><H3>MATCH_TOL</H3></A>
Tolerance value for
matching pointing params
in pointing corrections file.

<HR><A HREF="/VICAR-DOCS/vicar/coredev/html/vichelp/marsxyzsurf_level2.html#normal"><H3>NORMAL</H3></A>
<A HREF="/VICAR-DOCS/vicar/coredev/html/vichelp/marsxyzsurf_level2.html#surface">Surface</A> <A HREF="/VICAR-DOCS/vicar/coredev/html/vichelp/marsxyzsurf_level2.html#normal">normal</A> vector.

<HR><A HREF="/VICAR-DOCS/vicar/coredev/html/vichelp/marsxyzsurf_level2.html#ground"><H3>GROUND</H3></A>
<A HREF="/VICAR-DOCS/vicar/coredev/html/vichelp/marsxyzsurf_level2.html#surface">Surface</A> <A HREF="/VICAR-DOCS/vicar/coredev/html/vichelp/marsxyzsurf_level2.html#ground">ground</A> point.

<HR><A HREF="/VICAR-DOCS/vicar/coredev/html/vichelp/marsxyzsurf_level2.html#surf_coord"><H3>SURF_COORD</H3></A>
Coordinate system used to define
<A HREF="/VICAR-DOCS/vicar/coredev/html/vichelp/marsxyzsurf_level2.html#surface">surface</A> parameters.

<HR><A HREF="/VICAR-DOCS/vicar/coredev/html/vichelp/marsxyzsurf_level2.html#surface"><H3>SURFACE</H3></A>
The type of mars
<A HREF="/VICAR-DOCS/vicar/coredev/html/vichelp/marsxyzsurf_level2.html#surface">surface</A> to use INFINITY, PLANE, 
SPHERE1, SPHERE2, MESH.

<HR><A HREF="/VICAR-DOCS/vicar/coredev/html/vichelp/marsxyzsurf_level2.html#surf_mesh"><H3>SURF_MESH</H3></A>
Mesh file for <A HREF="/VICAR-DOCS/vicar/coredev/html/vichelp/marsxyzsurf_level2.html#surface">surface</A> model

<HR><A HREF="/VICAR-DOCS/vicar/coredev/html/vichelp/marsxyzsurf_level2.html#surf_csfile"><H3>SURF_CSFILE</H3></A>
File containing CS for <A HREF="/VICAR-DOCS/vicar/coredev/html/vichelp/marsxyzsurf_level2.html#surface">surface</A>
model

<HR><A HREF="/VICAR-DOCS/vicar/coredev/html/vichelp/marsxyzsurf_level2.html#rsf"><H3>RSF</H3></A>
Rover State File(s) to use.

<HR><A HREF="/VICAR-DOCS/vicar/coredev/html/vichelp/marsxyzsurf_level2.html#debug_rsf"><H3>DEBUG_RSF</H3></A>
Turns on debugging of <A HREF="/VICAR-DOCS/vicar/coredev/html/vichelp/marsxyzsurf_level2.html#rsf">RSF</A>
parameter.

<HR><A HREF="/VICAR-DOCS/vicar/coredev/html/vichelp/marsxyzsurf_level2.html#coord"><H3>COORD</H3></A>
Coordinate system to use.

<HR><A HREF="/VICAR-DOCS/vicar/coredev/html/vichelp/marsxyzsurf_level2.html#coord_index"><H3>COORD_INDEX</H3></A>
Coordinate system index for
some <A HREF="/VICAR-DOCS/vicar/coredev/html/vichelp/marsxyzsurf_level2.html#coord">COORD</A>/mission combos.

<HR><A HREF="/VICAR-DOCS/vicar/coredev/html/vichelp/marsxyzsurf_level2.html#fixed_site"><H3>FIXED_SITE</H3></A>
Which site is FIXED for
rover missions.

<HR><A HREF="/VICAR-DOCS/vicar/coredev/html/vichelp/marsxyzsurf_level2.html#solution_id"><H3>SOLUTION_ID</H3></A>
Solution ID to use for
<A HREF="/VICAR-DOCS/vicar/coredev/html/vichelp/marsxyzsurf_level2.html#coord_index">COORD_INDEX</A>

<HR><A HREF="/VICAR-DOCS/vicar/coredev/html/vichelp/marsxyzsurf_level2.html#write_cm"><H3>WRITE_CM</H3></A>
Writes the camera model
to the file.

<HR><A HREF="/VICAR-DOCS/vicar/coredev/html/vichelp/marsxyzsurf.html#examples"><H4>See Examples:</H4></A>
<HR><A HREF="/VICAR-DOCS/vicar/coredev/html/vichelp/marsxyzsurf.html#CogProg"><H4>Cognizant Programmer:</H4></A>
</BODY>
</HTML>
