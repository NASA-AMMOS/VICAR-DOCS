<HTML>
<HEAD><title>HTML Help for POWER</title></HEAD>
<BODY>
<H1>Help for POWER</H1>
<pre>
 "POWER" computes the 1 - dimensional power spectrum of a specified portion of 
  a picture.  

  Although the output is called 'power spectrum', the value computed is
  the square root of the power spectrum (the peak-to-peak amplitude in DN).
  Therefore, strictly speaking the output is an 'amplitude spectrum'.
  
  This output can be:
  1.  Written to a plot file which can be plotted on a POSTSCRIPT printer 
      or other POSTSCRIPT device.
  2.  Plotted directly to an X image display device.
  3.  Written as a tab-delimited ASCII file for use by commmerical packages.

 OPERATION:
  
  POWER uses the fast Fourier Transform to produce the power spectrum of each
  line of a specified portion of an input picture.  POWER produces a single 
  resultant power spectrum by averaging these together as a function of 
  frequency. The desired portion of the picture is specified in the <A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/power_level2.html#size">size</A> field.

  If a transform <A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/power_level2.html#size">size</A> (<A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/power_level2.html#exponent">EXPONENT</A>) is specified larger than the input sample 
  <A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/power_level2.html#size">size</A>, the necessary additional samples are generated by averaging the 
  available input data so to minimize sin(x)/x ringing. If it is defaulted,
  the transform <A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/power_level2.html#size">size</A> will be the largest power of 2 less than the input
  sample <A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/power_level2.html#size">size</A>.

  POWER will take the image format from the input's system label.


 PARAMETERS:

  Formerly the parameter TABLE was used to specify the name of the file 
  to contain the tab-delimited ASCII table of Frequency and Power values 
  to be plotted. This is now automatically created by the name in the
  <A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/power_level2.html#plotout">PLOTOUT</A> parameter. TABLE  now has the name PLOTOUT.asc. The table
  is always created even if <A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/power_level2.html#plotout">PLOTOUT</A> is not entered.

  COLUMNS


  If <A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/power_level2.html#plotfmt">PLOTFMT</A>=EPS is selected, the plot is generate as a POSTSCRIPT (EPS) file.  (See 
  <A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/power_level2.html#plotout">PLOTOUT</A> parameter.)  

  <A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/power_level2.html#plotout">PLOTOUT</A>='filename' is used to name the output plot file.  Specifying PLOTOUT
  implies TYPE=GNUPLOT. The default value of <A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/power_level2.html#plotout">PLOTOUT</A> is power.eps.

  <A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/power_level2.html#exponent">EXPONENT</A>

  <A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/power_level2.html#scale">SCALE</A>

  <A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/power_level2.html#dnscale">DNSCALE</A>

  <A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/power_level2.html#fmax">FMAX</A> is the highest frequency in the plotted spectrum


  <A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/power_level2.html#ylen">YLEN</A> = length of Y-axis 

  <A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/power_level2.html#title">TITLE</A> and <A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/power_level2.html#titlex">TITLEX</A> are the Title to be placed on the graph and the X-axis units
  No entry for the y-axis. It is always "AMPLITUDE (DN P-P)". P-P is peak to peak. 

  


  Example to request only tab-delimited ASCII file output:

 	 power <A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/power_level2.html#inp">inp</A>=a.img
  
  tab delimited file will be power.asc 

NOTES:

  The common plotting routines used in MIPL were removed in this version
  and converted to gnuplot commands. The Mipl version in 2011 uses the
  xrt commercial plotting package.


OUTPUTS:

  Up to two types of outputs can be produced, interactive plots using 
  gnuplot and hardcopy plots suitable for publications using gnuplot and ghostscript
  or gimp.

  The first type of plot is rendered via the creation of a gnuplot instruction, or
  command file. This is indicated by the file extension of .gpi.  After completion
  of the power task this file creates an interactive plot on the desktop, e.g.,
  if <A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/power_level2.html#plotout">PLOTOUT</A>=mypower
     ush gnuplot mypower.gpi.
  This display stays active until mouse-clicked somewhere on the plot panel.
  The terminal window prompt is inactive until the panel is closed.

  If you wish, you can issue the following gnuplot command to keep the plot on
  the desktop.

  ush gnuplot -persist mypower.gpi

  Again the terminal prompt is inactive until the plot panel has been mouse-clicked.
  After the mouse click the panel remains but the terminal prompt is restored. This
  makes it easy to compare outputs from several power commands.

  A second output is derived from the <A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/power_level2.html#plotout">PLOTOUT</A> parameter. By default this parameter is
  set to "NONE" so no hardcopy output is produced.  If you give a filename such as
  mypower then two gpi files are created mypower.gpi and mypower.2.gpi.

  ush gnuplot mypower.2.gpi 
 
  then no interactive plot panel is created but it produces a file mypower.eps. This
  file can be displayed using ghostscript (the usual unix command is gs).

  gs mypopwer.eps

  or gimp, e.g.,

  gimp mypower.eps



HISTORY

  ORIGINAL PROGRAMMER: T. C. Rindfleisch
<A NAME="CogProg">  CURRENT COGNIZANT PROGRAMMER: Ray Bambery - AFIDS/Vicar version  </A>

  1984-09-01 FFM Convert from IBM to VAX
  1993-11-22 CCA Add ASCII table output, checks for open errors, fix test, mod 
                 selection of plot or print
  1994-02-22 CCA Major code cleanup, rework of label handling, test file and plotting 
                 of labels
  1994-04-11 CCA Added <A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/power_level2.html#dnscale">dnscale</A>
  1994-06-14 CCA Fixed <A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/power_level2.html#fmax">fmax</A>, deleted histogram plot
  1994-10-20 CCA Corrected accumulation of amplitude
  1994-07-18 CCA Add option of no table column headers
  1995-11-16 CCA Made scal r*4
  1997-04-29  SP Made portable for UNIX.  Adapted for XRT pltting
                 package.  Changed COUNT for FILE parameter to 0:1
                 so that POWER can run without setting an X DISPLAY
                 by specifying neither 'PLOT nor FILE.  (Previously
                 the COUNT received by the program was always 1.)
  2011-06-09 RJB Changed from commercial plotting package, xrt, to gnuplot
                 create gnuplot commands and always create a table file
                 all xrt calls commented out. Completely rewrote test file.
  2012-07-02 RJB Renamed power2 for delivery to MIPL
                 power still uses XRT/Graph package, removed debug
                 statements, Removed &lttab&gt in front of continuation
                 lines to make backward compatible with
                 32-bit Linux gfortran 4.2.1, otherwise
                 compatible 64-bit Linux gfortran 4.6.3&lt/tab&gt
  2012-10-11 RJB Renamed back to power, in agreement
                 with Lucas Kamp of mipl. The XRT graph package
                 is to be removed from mipl. XRT was never used by
                 cartlab. 
  2012-10-14 RJB Revised the scheme for producing eps files
                 Old scheme used 1 gpi script to produce both
                 gnuplot panel and eps file. This scheme forced
                 power to be interactive when producing eps file
                 Scheme like qplot2 and statplt is now used.
  2013-07-08 RJB Redesigned plot naming conventions 
  2013-07-13 RJB Adjusted eps format to more readable fonts
                 Remove vestiges of debug statments

</pre>
<hr>
<H2>PARAMETERS:</H2>
<HR><A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/power_level2.html#inp"><H3>INP</H3></A>
 input data set

<HR><A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/power_level2.html#size"><H3>SIZE</H3></A>
Standard Vicar <A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/power_level2.html#size">size</A> field:
  (<A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/power_level2.html#sl">SL</A>,<A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/power_level2.html#ss">SS</A>,<A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/power_level2.html#nl">NL</A>,<A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/power_level2.html#ns">NS</A>)
You can enter <A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/power_level2.html#sl">SL</A>,<A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/power_level2.html#ss">SS</A>,<A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/power_level2.html#nl">NL</A>,
and <A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/power_level2.html#ns">NS</A> together as <A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/power_level2.html#size">SIZE</A>, OR
enter the <A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/power_level2.html#sl">SL</A>,<A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/power_level2.html#ss">SS</A>,<A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/power_level2.html#nl">NL</A>, and <A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/power_level2.html#ns">NS</A>
parameters separately.
<HR><A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/power_level2.html#sl"><H3>SL</H3></A>
Starting line number
<HR><A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/power_level2.html#ss"><H3>SS</H3></A>
Starting sample number
<HR><A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/power_level2.html#nl"><H3>NL</H3></A>
Number of lines
<HR><A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/power_level2.html#ns"><H3>NS</H3></A>
Number of samples

<HR><A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/power_level2.html#exponent"><H3>EXPONENT</H3></A>
 transform <A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/power_level2.html#size">size</A>

<HR><A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/power_level2.html#scale"><H3>SCALE</H3></A>
 output plot amplitude <A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/power_level2.html#scale">scale</A>

<HR><A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/power_level2.html#dnscale"><H3>DNSCALE</H3></A>
 scaling factor of input image

<HR><A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/power_level2.html#fmax"><H3>FMAX</H3></A>
 highest frequency in the 
 plotted spectrum

<HR><A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/power_level2.html#ylen"><H3>YLEN</H3></A>
 length of Y axis

<HR><A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/power_level2.html#plotfmt"><H3>PLOTFMT</H3></A>
 specification 
 of plotter output
 Gnuplot or eps

<HR><A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/power_level2.html#plotout"><H3>PLOTOUT</H3></A>
 specification of output 
 plot filename

<HR><A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/power_level2.html#title"><H3>TITLE</H3></A>
 user specified label to both
 printer and plotter

<HR><A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/power_level2.html#titlex"><H3>TITLEX</H3></A>
 user specified label of X
 axis to the plotter only

<HR><A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/power_level2.html#columns"><H3>COLUMNS</H3></A>
 selects table column
 headers or not

<HR><A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/power.html#examples"><H4>See Examples:</H4></A>
<HR><A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/power.html#CogProg"><H4>Cognizant Programmer:</H4></A>
</BODY>
</HTML>
