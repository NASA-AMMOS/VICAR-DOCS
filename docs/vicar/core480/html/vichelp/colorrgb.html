<HTML>
<HEAD><title>HTML Help for COLORRGB</title></HEAD>
<BODY>
<H1>Help for COLORRGB</H1>
<pre>
PURPOSE:
 To convert a set of N input multispectral images into an output set
         of either:
         A) 3 multispectral images representing r, g, b for quasi true
            <A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/colorrgb_level2.html#color">color</A> applications.
         B) 3 images representing X,Y,Z tristimulus for more accurate
            conversion to true <A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/colorrgb_level2.html#color">color</A> on a physical device.
Examples:

1. To convert 3 input images into quasi true <A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/colorrgb_level2.html#color">color</A>:
colorrgb in=<A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/colorrgb_level2.html#color">color</A>.red,color.grn,color.blu <A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/colorrgb_level2.html#out">out</A>=r.img,g.img,b.img \
<A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/colorrgb_level2.html#color">color</A>=22,304,173,222,255,322,429,255,213,190,47,187,239,255,255,369,188,174,185,
153,\
258,491,121,103,53

2. To process 3 other images the same way (using the identical transformation): 
colorrgb in=color2.red,color2.grn,color2.blu <A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/colorrgb_level2.html#out">out</A>=r.img,g.img,b.img     
    
METHOD:
  Colorrgb constructs three sets of simultaneous linear equations. Each set of
equations represents r,g,b respectively (or X,Y,Z). The user specifies a set
of known colors. These specify the target r,g,b (or X,Y,Z) values. Each <A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/colorrgb_level2.html#color">color</A>
becomes one equation. The line,sample locations provide the input dn values
for each <A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/colorrgb_level2.html#color">color</A> in each band. Thus the red equations look like:
r(color1)=k1*dn(band1,color1)+k2*dn(band2,color1)+...+kn*dn(bandn,color1)+k
r(color2)=k1*dn(band1,color2)+k2*dn(band2,color2)+...+kn*dn(bandn,color2)+k
..............
Colorrgb solves for k,k1-kn. These values are stored in the calibration file.

This is really nothing more than the integral for tristimulus. Kodak uses this
method (chemically) to <A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/colorrgb_level2.html#color">color</A> balance images using the four colors: sky, grass,
cloud, skin.

Note: Input images can be presented in any spectral order. (but see warning)

Warning: A calibration file must be used with input images in the same
         spectral order and number that they were presented when it was
         generated.

HISTORY:
1-1-2003 J Lorre. 
<A NAME="CogProg">COGNIZANT PROGRAMMER:  Lucas Kamp</A>

</pre>
<hr>
<H2>PARAMETERS:</H2>
<HR><A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/colorrgb_level2.html#inp"><H3>INP</H3></A>
N input images

<HR><A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/colorrgb_level2.html#out"><H3>OUT</H3></A>
3 byte Output images

<HR><A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/colorrgb_level2.html#color"><H3>COLOR</H3></A>
<A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/colorrgb_level2.html#color">Color</A> coordinates
and dn values.

<HR><A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/colorrgb_level2.html#area"><H3>AREA</H3></A>
Size of image patch

<HR><A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/colorrgb.html#examples"><H4>See Examples:</H4></A>
<HR><A HREF="/VICAR-DOCS/vicar/core480/html/vichelp/colorrgb.html#CogProg"><H4>Cognizant Programmer:</H4></A>
</BODY>
</HTML>
