<HTML>
<HEAD><title>HTML Help for RPCCORN</title></HEAD>
<BODY>
<H1>Help for RPCCORN</H1>
<pre>
PURPOSE
     RPCINV reads the GeoTIFF label of an image with GeoTIFF label
containing RPC's and uses the label information to reverse solve the
image corners and put them in the label.  If the corners are already in
the label, they will be replaced.  Elevations will also be added to the
label.  The geographic center of the four corners will also be added 
with its elevation.  Finally, the GSD, ELEV_LOOK_ANG, AZIM, and UPISUP
are calculated for the center point.

     If the user supplies a grid calculated from a parent image and
the label contains CHIP_PARENT_OFFS_LINE and CHIP_PARENT_OFFS_SAMP
then calculations are much faster.  The grid is calculated with routine
RPC2GRID.  See an example in the chipper.pdf procedure.

CALL
     rpccorn INPUT THRESH
  WHERE:
     INPUT          is the GeoTIFF data set followed by the dted
     THRESH         is a (lon,lat) threshold to stop iteration
 
OPERATION

The corners are generated and passed to routine rpcinv which gives an
accurate (lon,lat,elev) according to the RPC's.  gtuplab is used to put
these in the label.  The geographic center is generated by averaging the
four corners and its elevation is looked up by getzval.

PERFORMANCE

Expect about 40 seconds.

Restrictions
------------

The first input must have a GeoTIFF label. The dted file must be referenced
by a geographic (lon,lat) GeoTIFF label.

Original Programmer: A. L. Zobrist, 02 Mar, 2005
<A NAME="CogProg">Current Cognizant Programmer: A. L. Zobrist</A>

2022-08-10 B. Crocco afids to opensource (untested)

.VARI GRID
If the user supplies a grid calculated from a parent image and
the label contains CHIP_PARENT_OFFS_LINE and CHIP_PARENT_OFFS_SAMP
then calculations are much faster.  The grid is calculated with routine
RPC2GRID.  See an example in the chipper.pdf procedure.
.VARI CORNONLY
If set to "y" will only calculate corners and centers, using the standard
NITF labels and ordering
.END
</pre>
<hr>
<H2>PARAMETERS:</H2>
<HR><A HREF="/VICAR-DOCS/vicar/core5201/html/vichelp/rpccorn_level2.html#inp"><H3>INP</H3></A>
Input file with GeoTIFF, RPC
DTED file
<HR><A HREF="/VICAR-DOCS/vicar/core5201/html/vichelp/rpccorn_level2.html#thresh"><H3>THRESH</H3></A>
RMS of (lon,lat) to stop itr
<HR><A HREF="/VICAR-DOCS/vicar/core5201/html/vichelp/rpccorn_level2.html#grid"><H3>GRID</H3></A>
speedup grid from parent RPC
<HR><A HREF="/VICAR-DOCS/vicar/core5201/html/vichelp/rpccorn_level2.html#cornonly"><H3>CORNONLY</H3></A>
If set to "y" will only 
calculate corners and 
centers
<HR><A HREF="/VICAR-DOCS/vicar/core5201/html/vichelp/rpccorn.html#examples"><H4>See Examples:</H4></A>
<HR><A HREF="/VICAR-DOCS/vicar/core5201/html/vichelp/rpccorn.html#CogProg"><H4>Cognizant Programmer:</H4></A>
</BODY>
</HTML>
