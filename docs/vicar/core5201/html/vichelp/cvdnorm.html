<HTML>
<HEAD><title>HTML Help for CVDNORM</title></HEAD>
<BODY>
<H1>Help for CVDNORM</H1>
<pre>
PURPOSE:
The input is a pair of multi-band registered images referred to as the "pre"
and "post" images.  For each pixel of the registered images, the following
two normalization steps are performed.

1.  the bands of the pre image are normalized to a user-selected master band
using a mean adjustment according to the surrounding <A HREF="/VICAR-DOCS/vicar/core5201/html/vichelp/cvdnorm_level2.html#window">window</A> also ignoring a
<A HREF="/VICAR-DOCS/vicar/core5201/html/vichelp/cvdnorm_level2.html#donut">donut</A> hole in the middle of the <A HREF="/VICAR-DOCS/vicar/core5201/html/vichelp/cvdnorm_level2.html#window">window</A>.  The pixel is also <A HREF="/VICAR-DOCS/vicar/core5201/html/vichelp/cvdnorm_level2.html#sigma">sigma</A> adjusted
according to the image sigmas input as a parameter.  This is done
independently for each spectral band.

2.  the bands of the post image are normalized to the corresponding pre band
using a mean adjustment according to the surrounding <A HREF="/VICAR-DOCS/vicar/core5201/html/vichelp/cvdnorm_level2.html#window">window</A> also ignoring a
<A HREF="/VICAR-DOCS/vicar/core5201/html/vichelp/cvdnorm_level2.html#donut">donut</A> hole in the middle of the <A HREF="/VICAR-DOCS/vicar/core5201/html/vichelp/cvdnorm_level2.html#window">window</A>.  The pixel is also <A HREF="/VICAR-DOCS/vicar/core5201/html/vichelp/cvdnorm_level2.html#sigma">sigma</A> adjusted
according to the image sigmas input as a parameter.  This is done
independently for each spectral band.


The normalizations are useful for bringing <A HREF="/VICAR-DOCS/vicar/core5201/html/vichelp/cvdnorm_level2.html#out">out</A> the spectral characteristics
of targets smaller than the "<A HREF="/VICAR-DOCS/vicar/core5201/html/vichelp/cvdnorm_level2.html#donut">donut</A>" parameter.  The cross band normalization
is useful for centering the band ratios near zero.
EXECUTION:

Example

cvdnorm (A1,A2,A3,A4,A5,B1,B2,B3,B4,B5) <A HREF="/VICAR-DOCS/vicar/core5201/html/vichelp/cvdnorm_level2.html#out">out</A>=(M1,M2,M3,M4,M5,N1,N2,N3,N4,N5)       <A HREF="/VICAR-DOCS/vicar/core5201/html/vichelp/cvdnorm_level2.html#sigma">SIGMA</A>=(23.2,26.6,18.4,21.6,33.9,24.7,26.1,18.1,21.9,32.9)
            
                               
OPERATION:
Because of the <A HREF="/VICAR-DOCS/vicar/core5201/html/vichelp/cvdnorm_level2.html#window">window</A>, the program uses a "rolling barrel" of input
lines to avoid rereading a line more than once in the second input.


TIMING: 

About the same speed as convolution filter.  

 ORIGINAL PROGRAMMER:    A. Zobrist          27 Jan 2010
<A NAME="CogProg"> COGNIZANT PROGRAMMER:   A. Zobrist          27 Jan 2010</A>
 
 REVISION HISTORY
  10-01-27    AZ   Initial version
  2022-08-10 B. Crocco afids to opensource (untested)
  
</pre>
<hr>
<H2>PARAMETERS:</H2>
<HR><A HREF="/VICAR-DOCS/vicar/core5201/html/vichelp/cvdnorm_level2.html#inp"><H3>INP</H3></A>
STRING - Input image files
<HR><A HREF="/VICAR-DOCS/vicar/core5201/html/vichelp/cvdnorm_level2.html#out"><H3>OUT</H3></A>
STRING - Output normalized images
<HR><A HREF="/VICAR-DOCS/vicar/core5201/html/vichelp/cvdnorm_level2.html#size"><H3>SIZE</H3></A>
INTEGER - Region of input files
to be normalized
<HR><A HREF="/VICAR-DOCS/vicar/core5201/html/vichelp/cvdnorm_level2.html#sl"><H3>SL</H3></A>
INTEGER - Starting line
<HR><A HREF="/VICAR-DOCS/vicar/core5201/html/vichelp/cvdnorm_level2.html#ss"><H3>SS</H3></A>
INTEGER - Starting sample
<HR><A HREF="/VICAR-DOCS/vicar/core5201/html/vichelp/cvdnorm_level2.html#nl"><H3>NL</H3></A>
INTEGER - Number of lines
<HR><A HREF="/VICAR-DOCS/vicar/core5201/html/vichelp/cvdnorm_level2.html#ns"><H3>NS</H3></A>
INTEGER - Number of samples
<HR><A HREF="/VICAR-DOCS/vicar/core5201/html/vichelp/cvdnorm_level2.html#window"><H3>WINDOW</H3></A>
<A HREF="/VICAR-DOCS/vicar/core5201/html/vichelp/cvdnorm_level2.html#size">Size</A> of the averaging <A HREF="/VICAR-DOCS/vicar/core5201/html/vichelp/cvdnorm_level2.html#window">window</A>,
must be odd
<HR><A HREF="/VICAR-DOCS/vicar/core5201/html/vichelp/cvdnorm_level2.html#masterband"><H3>MASTERBAND</H3></A>
normalize all pre bands to this pre
band, then normalize post bands to pre
<HR><A HREF="/VICAR-DOCS/vicar/core5201/html/vichelp/cvdnorm_level2.html#sigma"><H3>SIGMA</H3></A>
REAL - sigmas per band
<HR><A HREF="/VICAR-DOCS/vicar/core5201/html/vichelp/cvdnorm_level2.html#printls"><H3>PRINTLS</H3></A>
INT - (line,samp) to print (debug)
<HR><A HREF="/VICAR-DOCS/vicar/core5201/html/vichelp/cvdnorm_level2.html#nopre"><H3>NOPRE</H3></A>
use to shut off across band
normalization
<HR><A HREF="/VICAR-DOCS/vicar/core5201/html/vichelp/cvdnorm.html#examples"><H4>See Examples:</H4></A>
<HR><A HREF="/VICAR-DOCS/vicar/core5201/html/vichelp/cvdnorm.html#CogProg"><H4>Cognizant Programmer:</H4></A>
</BODY>
</HTML>
