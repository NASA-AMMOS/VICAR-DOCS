<HTML>
<HEAD><title>HTML Level 2 Help for OMC</title></HEAD>
<BODY>
<H1>Level 2 Help for <A HREF="/VICAR-DOCS/vicar/core5201/html/vichelp/omc.html">OMC</A></H1>
<A NAME="inp"><H3>INP</H3></A>
<pre>
The input IBIS tabular file containing the planet <A HREF="/VICAR-DOCS/vicar/core5201/html/vichelp/omc_level2.html#angles">angles</A>, camera angles,
and the spacecraft vector.
<p>
<p></pre>


<hr>
<A NAME="out"><H3>OUT</H3></A><pre>
The output IBIS tabular file containing the original tabular data with
the transformed camera <A HREF="/VICAR-DOCS/vicar/core5201/html/vichelp/omc_level2.html#angles">angles</A> and spacecraft vector laid in.
<p>
<p></pre>


<hr>
<A NAME="ncol"><H3>NCOL</H3></A><pre>
The number of columns in the output tabular file. The default is to have
the same number of columns as the input file.
<p>
<p></pre>


<hr>
<A NAME="mecol"><H3>MECOL</H3></A><pre>
The starting column for the three ME matrix <A HREF="/VICAR-DOCS/vicar/core5201/html/vichelp/omc_level2.html#angles">angles</A>.  The ME matrix is a
rotation matrix that transforms from planet coordinates to Earth coordinates.
These Eulerian <A HREF="/VICAR-DOCS/vicar/core5201/html/vichelp/omc_level2.html#angles">angles</A> may be called the planet angles. 	(ME = "Moon Earth")
<p>
<p></pre>


<hr>
<A NAME="omcol"><H3>OMCOL</H3></A><pre>
The starting column for the three OM matrix <A HREF="/VICAR-DOCS/vicar/core5201/html/vichelp/omc_level2.html#angles">angles</A>.  The OM matrix is a
rotation matrix that transforms from planet coordinates to camera coordinates.
(OM = "Orbiter-Moon")
<p>
<p></pre>


<hr>
<A NAME="ccol"><H3>CCOL</H3></A><pre>
The starting column for the three C matrix <A HREF="/VICAR-DOCS/vicar/core5201/html/vichelp/omc_level2.html#angles">angles</A>.  The C matrix is a
rotation matrix that transforms from Earth coordinates to camera coordinates.
These Eulerian <A HREF="/VICAR-DOCS/vicar/core5201/html/vichelp/omc_level2.html#angles">angles</A> may be called the camera angles. (C = Camera)
<p>
<p></pre>


<hr>
<A NAME="rscol"><H3>RSCOL</H3></A><pre>
The starting column for the three RS vector components.  The RS vector is
the spacecraft vector expressed in planet coordinates. 
<p>
<p></pre>


<hr>
<A NAME="vrcol"><H3>VRCOL</H3></A><pre>
The starting column for the three VR vector components.  The VR vector is
the spacecraft vector expressed in Earth coordinates.
<p>
<p></pre>


<hr>
<A NAME="mode"><H3>MODE</H3></A><pre>
<A HREF="/VICAR-DOCS/vicar/core5201/html/vichelp/omc_level2.html#mode">MODE</A> is a keyword parameter that specifies the direction of the transformation.
<A HREF="/VICAR-DOCS/vicar/core5201/html/vichelp/omc_level2.html#mode">MODE</A>=TOPLANET converts from Earth coordinates to planet coordinates 
(C and VR to OM and RS).  <A HREF="/VICAR-DOCS/vicar/core5201/html/vichelp/omc_level2.html#mode">MODE</A>=FROMPLAN converts from planet coordinates to 
Earth coordinates (OM and RS to C and VR).
<p>
<p></pre>


<hr>
<A NAME="angles"><H3>ANGLES</H3></A><pre>
There are many systems for specifying "euler <A HREF="/VICAR-DOCS/vicar/core5201/html/vichelp/omc_level2.html#angles">angles</A>" which are used
to describe the orientation of a body in 3D with respect to fixed
x,y,z coordinates. The default method in "omc" is the same method that
is used in "omcor", and "omcor2". The geometric interpretation of the rotation
based on the <A HREF="/VICAR-DOCS/vicar/core5201/html/vichelp/omc_level2.html#angles">angles</A> alpha,delta and kappa is a bit nonstandard and is 
as follows:

  0) Start with standard right-handed coordinates x,y,z
  1) Rotate the z-y plane about the x-axis clockwise, by an
     an angle of 90-&ltdelta&gt, forming x,y',z' (so that z' is
     at an angle of &ltdelta away from y).
  2) Rotate the x,y',z' coordinate axes about the old z-axis,
     clockwise, by an angle of 90-&ltalpha&gt, forming x',y'',Z
  3) Rotate the x',y'' axis counter-clockwise about the Z axis,
     by an angle of &ltkappa&gt+180, forming axes X,Y
  4) The axes (X,Y,Z) form the new coordinate system.

It is nonstandard in that <A HREF="/VICAR-DOCS/vicar/core5201/html/vichelp/omc_level2.html#angles">angles</A> (0,0,0) effectively transform
(x,y,z) into (y,x,z), whereas normally this should be (x,y,z).
The system still works, however, since the rule is internally
consistent, and the TOPLANET conversion properly inverts the
FROMPLANET system. The identity matrix is (a,d,k) =(90,90,180).


If the keyword 'STANDARD is invoked, a more common. easily remembered,
system of euler <A HREF="/VICAR-DOCS/vicar/core5201/html/vichelp/omc_level2.html#angles">angles</A> may be used, with the following interpretation:

  0) Start with x,y,z as before
  1) Rotate the x,y,z   system counter-clockwise about the x-axis
     *by* an angle of &ltdelta&gt, forming x,y',z'
  2) Rotate the x,y',z' system counter-clockwise about the z-axis 
     *by* an angle of &ltalpha&gt, forming x',y'',Z
  3) Rotate the x',y'',Z  system counter-clockwise about the Z-axis
     *by* an angle of &ltkappa, forming X,Y,Z.
  4) The axes (X,Y,Z) form the new coordinate system.

In this system the euler <A HREF="/VICAR-DOCS/vicar/core5201/html/vichelp/omc_level2.html#angles">angles</A> (0,0,0) take (x,y,z) to (x,y,z).

<p>
<p></pre>

</BODY>
</HTML>
