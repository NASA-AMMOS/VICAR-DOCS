<HTML>
<HEAD><title>HTML Level 2 Help for ADESPIKE</title></HEAD>
<BODY>
<H1>Level 2 Help for <A HREF="/VICAR-DOCS/vicar/core470/html/vichelp/adespike.html">ADESPIKE</A></H1>
<A NAME="inp"><H3>INP</H3></A>
<pre>
Ex:	<A HREF="/VICAR-DOCS/vicar/core470/html/vichelp/adespike_level2.html#inp">INP</A>=A
where A is the input image (byte or halfword) in standard VICAR format
and of arbitrary <A HREF="/VICAR-DOCS/vicar/core470/html/vichelp/adespike_level2.html#size">size</A>.
<p>
<p></pre>


<hr>
<A NAME="out"><H3>OUT</H3></A><pre>
Ex:	<A HREF="/VICAR-DOCS/vicar/core470/html/vichelp/adespike_level2.html#out">OUT</A>=B
where B is the output image.  The output image will be the same data format
and <A HREF="/VICAR-DOCS/vicar/core470/html/vichelp/adespike_level2.html#size">size</A> as the input image.
<p>
<p></pre>


<hr>
<A NAME="size"><H3>SIZE</H3></A><pre>
	<A HREF="/VICAR-DOCS/vicar/core470/html/vichelp/adespike_level2.html#size">SIZE</A>=(sl,ss,nl,ns).
is the standard VICAR2 image <A HREF="/VICAR-DOCS/vicar/core470/html/vichelp/adespike_level2.html#size">size</A> field, specifying the area of the input
on which processing is to be applied (starting-line, starting-sample,
number-of-lines, number-of-samples).  The output image <A HREF="/VICAR-DOCS/vicar/core470/html/vichelp/adespike_level2.html#size">size</A> will be nlxns.
If defaulted, the entire input image is processed.
<p>
<p></pre>


<hr>
<A NAME="sutol"><H3>SUTOL</H3></A><pre>
Horizontal upper deviation from mean (default=20).  Parameters <A HREF="/VICAR-DOCS/vicar/core470/html/vichelp/adespike_level2.html#sutol">SUTOL</A>,
<A HREF="/VICAR-DOCS/vicar/core470/html/vichelp/adespike_level2.html#sltol">SLTOL</A>, <A HREF="/VICAR-DOCS/vicar/core470/html/vichelp/adespike_level2.html#dsutol">DSUTOL</A>, and <A HREF="/VICAR-DOCS/vicar/core470/html/vichelp/adespike_level2.html#dsltol">DSLTOL</A> are thresholds applied to the horizontal pixel test:
Let x0 be the pixel to be tested, and let x1 and x2 be its left and right
adjacent neighbors.  Let avg=(x1+x2)/2.  Then x0 is in error if:
                 x0 &lt A     or   B < x0
where
       A = min(avg-<A HREF="/VICAR-DOCS/vicar/core470/html/vichelp/adespike_level2.html#sltol">SLTOL</A>, x1-<A HREF="/VICAR-DOCS/vicar/core470/html/vichelp/adespike_level2.html#dsltol">DSLTOL</A>, x2-DSLTOL)
       B = max(avg+<A HREF="/VICAR-DOCS/vicar/core470/html/vichelp/adespike_level2.html#sutol">SUTOL</A>, x1+<A HREF="/VICAR-DOCS/vicar/core470/html/vichelp/adespike_level2.html#dsutol">DSUTOL</A>, x2+DSUTOL)
<p>
<p></pre>


<hr>
<A NAME="sltol"><H3>SLTOL</H3></A><pre>
Horizontal lower deviation from mean (default=20).  See <A HREF="/VICAR-DOCS/vicar/core470/html/vichelp/adespike_level2.html#sutol">SUTOL</A> for details.
<p>
<p></pre>


<hr>
<A NAME="dsutol"><H3>DSUTOL</H3></A><pre>
Horizontal upper deviation from neighbor (default=20).  See <A HREF="/VICAR-DOCS/vicar/core470/html/vichelp/adespike_level2.html#sutol">SUTOL</A> for details.
<p>
<p></pre>


<hr>
<A NAME="dsltol"><H3>DSLTOL</H3></A><pre>
Horizontal lower deviation from neighbor (default=20).  See <A HREF="/VICAR-DOCS/vicar/core470/html/vichelp/adespike_level2.html#sutol">SUTOL</A> for details.
<p>
<p></pre>


<hr>
<A NAME="cutol"><H3>CUTOL</H3></A><pre>
Vertical upper deviation from mean (default=20).  Parameters <A HREF="/VICAR-DOCS/vicar/core470/html/vichelp/adespike_level2.html#cutol">CUTOL</A>
<A HREF="/VICAR-DOCS/vicar/core470/html/vichelp/adespike_level2.html#cltol">CLTOL</A>, <A HREF="/VICAR-DOCS/vicar/core470/html/vichelp/adespike_level2.html#dcutol">DCUTOL</A>, and <A HREF="/VICAR-DOCS/vicar/core470/html/vichelp/adespike_level2.html#dcltol">DCLTOL</A> are thresholds applied to the vertical pixel test:
Let x0 be the pixel to be tested, and let x3 and x4 be its upper and lower
adjacent neighbors.  Let avg=(x3+x4)/2.  Then x0 is in error if:
                 x0 &lt C     or   D < x0
where
       C = min(avg-<A HREF="/VICAR-DOCS/vicar/core470/html/vichelp/adespike_level2.html#cltol">CLTOL</A>, x3-<A HREF="/VICAR-DOCS/vicar/core470/html/vichelp/adespike_level2.html#dcltol">DCLTOL</A>, x4-DCLTOL)
       D = max(avg+<A HREF="/VICAR-DOCS/vicar/core470/html/vichelp/adespike_level2.html#cutol">CUTOL</A>, x3+<A HREF="/VICAR-DOCS/vicar/core470/html/vichelp/adespike_level2.html#dcutol">DCUTOL</A>, x4+DCUTOL)
The thresholds <A HREF="/VICAR-DOCS/vicar/core470/html/vichelp/adespike_level2.html#cltol">CLTOL</A>, <A HREF="/VICAR-DOCS/vicar/core470/html/vichelp/adespike_level2.html#cutol">CUTOL</A>, <A HREF="/VICAR-DOCS/vicar/core470/html/vichelp/adespike_level2.html#dcltol">DCLTOL</A>, and <A HREF="/VICAR-DOCS/vicar/core470/html/vichelp/adespike_level2.html#dcutol">DCUTOL</A> are specifiable parameters.
<p>
<p></pre>


<hr>
<A NAME="cltol"><H3>CLTOL</H3></A><pre>
Vertical lower deviation from mean (default=20).  See <A HREF="/VICAR-DOCS/vicar/core470/html/vichelp/adespike_level2.html#cutol">CUTOL</A> for details.
<p>
<p></pre>


<hr>
<A NAME="dcutol"><H3>DCUTOL</H3></A><pre>
Vertical upper deviation from neighbor (default=20).  See <A HREF="/VICAR-DOCS/vicar/core470/html/vichelp/adespike_level2.html#cutol">CUTOL</A> for details.
<p>
<p></pre>


<hr>
<A NAME="dcltol"><H3>DCLTOL</H3></A><pre>
Vertical lower deviation from neighbor (default=20).  See <A HREF="/VICAR-DOCS/vicar/core470/html/vichelp/adespike_level2.html#cutol">CUTOL</A> for details.
<p>
<p></pre>


<hr>
<A NAME="tol"><H3>TOL</H3></A><pre>
All eight thresholds (<A HREF="/VICAR-DOCS/vicar/core470/html/vichelp/adespike_level2.html#sutol">SUTOL</A>,...,<A HREF="/VICAR-DOCS/vicar/core470/html/vichelp/adespike_level2.html#dcltol">DCLTOL</A>) are set to this value.
<p>
<p></pre>


<hr>
<A NAME="dn"><H3>DN</H3></A><pre>
Ex:	<A HREF="/VICAR-DOCS/vicar/core470/html/vichelp/adespike_level2.html#dn">DN</A>=n
Specifies the <A HREF="/VICAR-DOCS/vicar/core470/html/vichelp/adespike_level2.html#dn">DN</A> value for replacement pixels.  All pixel errors are
replaced by n (rather then the average of adjacent pixels).
A negative value is ignored (default of -1), i.e. the average of adjacent
pixels is used to replace pixel errors.
<p>
<p></pre>


<hr>
<A NAME="bits"><H3>BITS</H3></A><pre>
This parameter determines number of <A HREF="/VICAR-DOCS/vicar/core470/html/vichelp/adespike_level2.html#bits">bits</A> to replace in spikes. 
The valid range is -1 to 16 (values from 9-16 are meaningful
only for HALF format, and are ignored for BYTE).

Let x0 be the erroneous pixel, and let avg=(x1+x2)/2 where x1 and x2 are
its adjacent neighbors.  If <A HREF="/VICAR-DOCS/vicar/core470/html/vichelp/adespike_level2.html#bits">BITS</A>&gt0, then the BITS most significant bits
(MSB) of pixel x0 are replaced with the <A HREF="/VICAR-DOCS/vicar/core470/html/vichelp/adespike_level2.html#bits">BITS</A> MSBs of avg and the remaining
LSBs of x0 are not changed.

If <A HREF="/VICAR-DOCS/vicar/core470/html/vichelp/adespike_level2.html#bits">BITS</A>=0, then the number of MSBs to be changed when a pixel spike is
detected is determined by the mean deviation allowed.

If <A HREF="/VICAR-DOCS/vicar/core470/html/vichelp/adespike_level2.html#bits">BITS</A>=-1, then the entire pixel <A HREF="/VICAR-DOCS/vicar/core470/html/vichelp/adespike_level2.html#dn">DN</A> is changed.  (This is equivalent
to <A HREF="/VICAR-DOCS/vicar/core470/html/vichelp/adespike_level2.html#bits">BITS</A>=8 for BYTE data.)

For example (using byte data):
If <A HREF="/VICAR-DOCS/vicar/core470/html/vichelp/adespike_level2.html#bits">BITS</A>=3, the 3 MSBs of x0 are replaced with the 3 MSBs of avg.
If <A HREF="/VICAR-DOCS/vicar/core470/html/vichelp/adespike_level2.html#bits">BITS</A>=0, then:
  If the default tolerances are used (20 <A HREF="/VICAR-DOCS/vicar/core470/html/vichelp/adespike_level2.html#dn">DN</A>), then the 4 MSBs will be
  replaced, because 2**4-1 &lt 20 < 2**5-1.
  If all tolerances are 40 <A HREF="/VICAR-DOCS/vicar/core470/html/vichelp/adespike_level2.html#dn">DN</A>, then the 3 MSBs will be replaced, because
  2**5-1 &lt 40 < 2**6-1.
<p>
<p></pre>


<hr>
<A NAME="printtol"><H3>PRINTTOL</H3></A><pre>
Prints all 8 tolerance thresholds.  For debugging purposes.  Default is NOPRINT.
<p>
<p></pre>

</BODY>
</HTML>
