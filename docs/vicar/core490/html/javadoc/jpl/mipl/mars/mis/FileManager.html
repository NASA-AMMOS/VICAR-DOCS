<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

<html lang="en">
<head>

<title>FileManager</title>
<meta name="date" content="2020-06-09">
<link rel="stylesheet" type="text/css" href="/VICAR-DOCS/vicar/core490/html/javadoc/jpl/mipl/mars/mis/../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript">
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>

<div class="topNav"><a name="navbar.top">

</a>
<div class="skipNav"><a href="/VICAR-DOCS/vicar/core490/html/javadoc/jpl/mipl/mars/mis/#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">

</a>
<ul class="navList" title="Navigation">
<li><a href="/VICAR-DOCS/vicar/core490/html/javadoc/jpl/mipl/mars/mis/../../../../overview-summary.html">Overview</a></li>
<li><a href="/VICAR-DOCS/vicar/core490/html/javadoc/jpl/mipl/mars/mis/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="/VICAR-DOCS/vicar/core490/html/javadoc/jpl/mipl/mars/mis/package-tree.html">Tree</a></li>
<li><a href="/VICAR-DOCS/vicar/core490/html/javadoc/jpl/mipl/mars/mis/../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="/VICAR-DOCS/vicar/core490/html/javadoc/jpl/mipl/mars/mis/../../../../index-all.html">Index</a></li>
<li><a href="/VICAR-DOCS/vicar/core490/html/javadoc/jpl/mipl/mars/mis/../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="/VICAR-DOCS/vicar/core490/html/javadoc/jpl/mipl/mars/mis/../../../../jpl/mipl/mars/mis/Constants.html" title="interface in jpl.mipl.mars.mis"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="/VICAR-DOCS/vicar/core490/html/javadoc/jpl/mipl/mars/mis/../../../../jpl/mipl/mars/mis/FileRef.html" title="class in jpl.mipl.mars.mis"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="/VICAR-DOCS/vicar/core490/html/javadoc/jpl/mipl/mars/mis/../../../../index.html?jpl/mipl/mars/mis/FileManager.html" target="_top">Frames</a></li>
<li><a href="/VICAR-DOCS/vicar/core490/html/javadoc/jpl/mipl/mars/mis/FileManager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="/VICAR-DOCS/vicar/core490/html/javadoc/jpl/mipl/mars/mis/../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript">
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="/VICAR-DOCS/vicar/core490/html/javadoc/jpl/mipl/mars/mis/#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="/VICAR-DOCS/vicar/core490/html/javadoc/jpl/mipl/mars/mis/#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="/VICAR-DOCS/vicar/core490/html/javadoc/jpl/mipl/mars/mis/#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="/VICAR-DOCS/vicar/core490/html/javadoc/jpl/mipl/mars/mis/#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">

</a></div>


<div class="header">
<div class="subTitle">jpl.mipl.mars.mis</div>
<h2 title="Class FileManager" class="title">Class FileManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>jpl.mipl.mars.mis.FileManager</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="typeNameLabel">FileManager</span>
extends java.lang.Object</pre>
<div class="block">Manages a global list of FileRefs and ensures a unique
        read in of each filepath from memory. Should only be instantiated once (as a singleton). 
        Provides access point for the file data to the end user of the instance. Files are stored
        in a LinkedHashMap with lookup based on the filepath (gaurunteed unique)</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>Nolan Miller</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="/VICAR-DOCS/vicar/core490/html/javadoc/jpl/mipl/mars/mis/../../../../jpl/mipl/mars/mis/FileRef.html" title="class in jpl.mipl.mars.mis"><code>FileRef</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">

<ul class="blockList">
<li class="blockList"><a name="constructor.summary">

</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="/VICAR-DOCS/vicar/core490/html/javadoc/jpl/mipl/mars/mis/../../../../jpl/mipl/mars/mis/FileManager.html#FileManager--">FileManager</a></span>()</code>
<div class="block">Default constructor makes an instantiates the file repository
        (empty).</div>
</td>
</tr>
</table>
</li>
</ul>

<ul class="blockList">
<li class="blockList"><a name="method.summary">

</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="/VICAR-DOCS/vicar/core490/html/javadoc/jpl/mipl/mars/mis/show(2)">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="/VICAR-DOCS/vicar/core490/html/javadoc/jpl/mipl/mars/mis/show(8)">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="/VICAR-DOCS/vicar/core490/html/javadoc/jpl/mipl/mars/mis/../../../../jpl/mipl/mars/mis/FileManager.html#add-java.lang.String-">add</a></span>(java.lang.String&nbsp;url)</code>
<div class="block">Adds the given file to the open list and forces a data load - if 
        file was already present the reference count is incremented.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>java.util.Map</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="/VICAR-DOCS/vicar/core490/html/javadoc/jpl/mipl/mars/mis/../../../../jpl/mipl/mars/mis/FileManager.html#getData-java.lang.String-java.lang.String-int-int-">getData</a></span>(java.lang.String&nbsp;id,
       java.lang.String&nbsp;fileType,
       int&nbsp;x,
       int&nbsp;y)</code>
<div class="block">Gets the pixel data for the given file at the given indexes formatted as a json dict.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>java.util.List&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="/VICAR-DOCS/vicar/core490/html/javadoc/jpl/mipl/mars/mis/../../../../jpl/mipl/mars/mis/FileManager.html#getKeys-java.lang.String-java.lang.String-">getKeys</a></span>(java.lang.String&nbsp;id,
       java.lang.String&nbsp;fileType)</code>&nbsp;</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="/VICAR-DOCS/vicar/core490/html/javadoc/jpl/mipl/mars/mis/../../../../jpl/mipl/mars/mis/FileManager.html#getModTime-java.lang.String-">getModTime</a></span>(java.lang.String&nbsp;id)</code>&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="/VICAR-DOCS/vicar/core490/html/javadoc/jpl/mipl/mars/mis/../../../../jpl/mipl/mars/mis/FileManager.html#getRawData-java.lang.String-int-int-">getRawData</a></span>(java.lang.String&nbsp;id,
          int&nbsp;x,
          int&nbsp;y)</code>
<div class="block">Gets the pixel data for the given file at the given indexes.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>java.util.List</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="/VICAR-DOCS/vicar/core490/html/javadoc/jpl/mipl/mars/mis/../../../../jpl/mipl/mars/mis/FileManager.html#getVals-java.lang.String-java.lang.String-int-int-">getVals</a></span>(java.lang.String&nbsp;id,
       java.lang.String&nbsp;fileType,
       int&nbsp;x,
       int&nbsp;y)</code>&nbsp;</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="/VICAR-DOCS/vicar/core490/html/javadoc/jpl/mipl/mars/mis/../../../../jpl/mipl/mars/mis/FileManager.html#remove-java.lang.String-">remove</a></span>(java.lang.String&nbsp;url)</code>
<div class="block">Decrements the reference count to the given file and deletes the
        FileRef instance if the reference count is 0 after decrementation.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="/VICAR-DOCS/vicar/core490/html/javadoc/jpl/mipl/mars/mis/../../../../jpl/mipl/mars/mis/FileManager.html#test--">test</a></span>()</code>
<div class="block">Prints out a test statment to stdout.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">

</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">

<ul class="blockList">
<li class="blockList"><a name="constructor.detail">

</a>
<h3>Constructor Detail</h3>
<a name="FileManager--">

</a>
<ul class="blockListLast">
<li class="blockList">
<h4>FileManager</h4>
<pre>public&nbsp;FileManager()</pre>
<div class="block">Default constructor makes an instantiates the file repository
        (empty). This file container is not static so the FileManager must
        be instatiated once GLOBALLY.</div>
</li>
</ul>
</li>
</ul>

<ul class="blockList">
<li class="blockList"><a name="method.detail">

</a>
<h3>Method Detail</h3>
<a name="test--">

</a>
<ul class="blockList">
<li class="blockList">
<h4>test</h4>
<pre>public&nbsp;void&nbsp;test()</pre>
<div class="block">Prints out a test statment to stdout. It contains a list of every
        file currently read in as well as reference count for how many
        users are currently registered with that file.</div>
</li>
</ul>
<a name="add-java.lang.String-">

</a>
<ul class="blockList">
<li class="blockList">
<h4>add</h4>
<pre>public&nbsp;boolean&nbsp;add(java.lang.String&nbsp;url)</pre>
<div class="block">Adds the given file to the open list and forces a data load - if 
        file was already present the reference count is incremented. Returns
        false and prints error message to stdout if the file could not be
        loaded. The list is not changed if the file could not be loaded.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>url</code> - the String path for the file to be loaded</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true/false whether or not the load was a success</dd>
</dl>
</li>
</ul>
<a name="remove-java.lang.String-">

</a>
<ul class="blockList">
<li class="blockList">
<h4>remove</h4>
<pre>public&nbsp;void&nbsp;remove(java.lang.String&nbsp;url)</pre>
<div class="block">Decrements the reference count to the given file and deletes the
        FileRef instance if the reference count is 0 after decrementation.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>url</code> - the String path for the file to be removed/decremented.</dd>
</dl>
</li>
</ul>
<a name="getData-java.lang.String-java.lang.String-int-int-">

</a>
<ul class="blockList">
<li class="blockList">
<h4>getData</h4>
<pre>public&nbsp;java.util.Map&nbsp;getData(java.lang.String&nbsp;id,
                             java.lang.String&nbsp;fileType,
                             int&nbsp;x,
                             int&nbsp;y)</pre>
<div class="block">Gets the pixel data for the given file at the given indexes formatted as a json dict.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - the unique id (path) String of the file to get the pixel data from (it will
        not be reopened, the path is just a uid)</dd>
<dd><code>fileType</code> - string imagetype for the file being queried</dd>
<dd><code>x</code> - the integer index for the target pixel column</dd>
<dd><code>y</code> - the integer index for the target pixel row</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the String returned by the FileRefs getData method</dd>
</dl>
</li>
</ul>
<a name="getRawData-java.lang.String-int-int-">

</a>
<ul class="blockList">
<li class="blockList">
<h4>getRawData</h4>
<pre>public&nbsp;java.lang.String&nbsp;getRawData(java.lang.String&nbsp;id,
                                   int&nbsp;x,
                                   int&nbsp;y)</pre>
<div class="block">Gets the pixel data for the given file at the given indexes.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - the unique id (path) String of the file to get the pixel data from (it will
        not be reopened, the path is just a uid)</dd>
<dd><code>x</code> - the integer index for the target pixel collum</dd>
<dd><code>y</code> - the integer index for the target pixel row</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the String returned by the FileRefs getData method</dd>
</dl>
</li>
</ul>
<a name="getModTime-java.lang.String-">

</a>
<ul class="blockList">
<li class="blockList">
<h4>getModTime</h4>
<pre>public&nbsp;long&nbsp;getModTime(java.lang.String&nbsp;id)</pre>
</li>
</ul>
<a name="getKeys-java.lang.String-java.lang.String-">

</a>
<ul class="blockList">
<li class="blockList">
<h4>getKeys</h4>
<pre>public&nbsp;java.util.List&lt;java.lang.String&gt;&nbsp;getKeys(java.lang.String&nbsp;id,
                                                java.lang.String&nbsp;fileType)</pre>
</li>
</ul>
<a name="getVals-java.lang.String-java.lang.String-int-int-">

</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getVals</h4>
<pre>public&nbsp;java.util.List&nbsp;getVals(java.lang.String&nbsp;id,
                              java.lang.String&nbsp;fileType,
                              int&nbsp;x,
                              int&nbsp;y)</pre>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>


<div class="bottomNav"><a name="navbar.bottom">

</a>
<div class="skipNav"><a href="/VICAR-DOCS/vicar/core490/html/javadoc/jpl/mipl/mars/mis/#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">

</a>
<ul class="navList" title="Navigation">
<li><a href="/VICAR-DOCS/vicar/core490/html/javadoc/jpl/mipl/mars/mis/../../../../overview-summary.html">Overview</a></li>
<li><a href="/VICAR-DOCS/vicar/core490/html/javadoc/jpl/mipl/mars/mis/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="/VICAR-DOCS/vicar/core490/html/javadoc/jpl/mipl/mars/mis/package-tree.html">Tree</a></li>
<li><a href="/VICAR-DOCS/vicar/core490/html/javadoc/jpl/mipl/mars/mis/../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="/VICAR-DOCS/vicar/core490/html/javadoc/jpl/mipl/mars/mis/../../../../index-all.html">Index</a></li>
<li><a href="/VICAR-DOCS/vicar/core490/html/javadoc/jpl/mipl/mars/mis/../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="/VICAR-DOCS/vicar/core490/html/javadoc/jpl/mipl/mars/mis/../../../../jpl/mipl/mars/mis/Constants.html" title="interface in jpl.mipl.mars.mis"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="/VICAR-DOCS/vicar/core490/html/javadoc/jpl/mipl/mars/mis/../../../../jpl/mipl/mars/mis/FileRef.html" title="class in jpl.mipl.mars.mis"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="/VICAR-DOCS/vicar/core490/html/javadoc/jpl/mipl/mars/mis/../../../../index.html?jpl/mipl/mars/mis/FileManager.html" target="_top">Frames</a></li>
<li><a href="/VICAR-DOCS/vicar/core490/html/javadoc/jpl/mipl/mars/mis/FileManager.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="/VICAR-DOCS/vicar/core490/html/javadoc/jpl/mipl/mars/mis/../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript">
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="/VICAR-DOCS/vicar/core490/html/javadoc/jpl/mipl/mars/mis/#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="/VICAR-DOCS/vicar/core490/html/javadoc/jpl/mipl/mars/mis/#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="/VICAR-DOCS/vicar/core490/html/javadoc/jpl/mipl/mars/mis/#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="/VICAR-DOCS/vicar/core490/html/javadoc/jpl/mipl/mars/mis/#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">

</a></div>

</body>
</html>
