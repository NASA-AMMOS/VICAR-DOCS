<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">

<html lang="en">
<head>

<title>ServerProxy</title>
<meta name="date" content="2017-06-27">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript">
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>

<div class="topNav"><a name="navbar_top">

</a><a href="/VICAR-DOCS/vicar/core460/html/javadoc/./././././././././././././././jpl/mipl/mdms/FileService/komodo/api/#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">

</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="/VICAR-DOCS/vicar/core460/html/javadoc/./././././././././././././././jpl/mipl/mdms/FileService/komodo/api/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="/VICAR-DOCS/vicar/core460/html/javadoc/./././././././././././././././jpl/mipl/mdms/FileService/komodo/api/package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../jpl/mipl/mdms/FileService/komodo/api/ServerInfo.html" title="class in jpl.mipl.mdms.FileService.komodo.api"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../../jpl/mipl/mdms/FileService/komodo/api/Session.html" title="class in jpl.mipl.mdms.FileService.komodo.api"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?jpl/mipl/mdms/FileService/komodo/api/ServerProxy.html" target="_top">Frames</a></li>
<li><a href="/VICAR-DOCS/vicar/core460/html/javadoc/./././././././././././././././jpl/mipl/mdms/FileService/komodo/api/ServerProxy.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript">
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="/VICAR-DOCS/vicar/core460/html/javadoc/./././././././././././././././jpl/mipl/mdms/FileService/komodo/api/#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="/VICAR-DOCS/vicar/core460/html/javadoc/./././././././././././././././jpl/mipl/mdms/FileService/komodo/api/#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="/VICAR-DOCS/vicar/core460/html/javadoc/./././././././././././././././jpl/mipl/mdms/FileService/komodo/api/#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="/VICAR-DOCS/vicar/core460/html/javadoc/./././././././././././././././jpl/mipl/mdms/FileService/komodo/api/#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">

</a></div>


<div class="header">
<div class="subTitle">jpl.mipl.mdms.FileService.komodo.api</div>
<h2 title="Class ServerProxy" class="title">Class ServerProxy</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>jpl.mipl.mdms.FileService.komodo.api.ServerProxy</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.lang.Runnable</dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">ServerProxy</span>
extends java.lang.Object
implements java.lang.Runnable</pre>
<div class="block"><b>Purpose:</b>
 The sever proxy class that implements the Komodo server proxy class. 
 This class handles requests queued to file types muliplexed onto this 
 proxy. Must be public to implement runnable.
 
   <PRE>
   Copyright 2005, California Institute of Technology.
   ALL RIGHTS RESERVED.
   U.S. Government Sponsorship acknowledge. 2005.
   </PRE>
 
 <PRE>
 ============================================================================
 <B>Modification History :</B>
 ----------------------

 <B>Date              Who              What</B>
 ----------------------------------------------------------------------------
 00/00/2000        Thomas           Initial release. 
 07/13/2005        Nick             Initial documentation.
 10/11/2005        Nick             Introducted new constructor that accepts
                                    a login flag that, if set, performs the
                                    original login sequence.
                                    Added _authenticateServerGroupUser() to
                                    perform user authentication without 
                                    connecting to specific filetype.
                                    Updated _closeConn to check if filetype 
                                    is associated with the request.
 06/28/2006        Nick             New pulse thread to keep connection 
                                    alive.
 ============================================================================
 </PRE></div>
<dl><dt><span class="strong">Version:</span></dt>
  <dd>$Id: ServerProxy.java,v 1.111 2014/10/15 18:50:04 ntt Exp $</dd>
<dt><span class="strong">Author:</span></dt>
  <dd>Thomas Huang     (Thomas.Huang@jpl.nasa.gov), Nicholas Toole   (Nicholas.T.Toole@jpl.nasa.gov)</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">

<ul class="blockList">
<li class="blockList"><a name="field_summary">

</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected static int</code></td>
<td class="colLast"><code><strong><a href="../../../../../../jpl/mipl/mdms/FileService/komodo/api/ServerProxy.html#__nextId">__nextId</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../../../../jpl/mipl/mdms/FileService/komodo/api/ServerProxy.html#_id">_id</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static long</code></td>
<td class="colLast"><code><strong><a href="../../../../../../jpl/mipl/mdms/FileService/komodo/api/ServerProxy.html#DB_DELTA_MS">DB_DELTA_MS</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../../../../jpl/mipl/mdms/FileService/komodo/api/ServerProxy.html#INTERNAL_TRANSACTION_ID">INTERNAL_TRANSACTION_ID</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>

<ul class="blockList">
<li class="blockList"><a name="method_summary">

</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../jpl/mipl/mdms/FileService/komodo/api/ServerProxy.html#_sendFileChecksum(jpl.mipl.mdms.FileService.io.BufferedStreamIO,%20jpl.mipl.mdms.FileService.komodo.api.Request,%20java.lang.String)">_sendFileChecksum</a></strong>(<a href="../../../../../../jpl/mipl/mdms/FileService/io/BufferedStreamIO.html" title="class in jpl.mipl.mdms.FileService.io">BufferedStreamIO</a>&nbsp;io,
                 jpl.mipl.mdms.FileService.komodo.api.Request&nbsp;request,
                 java.lang.String&nbsp;fileName)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../../jpl/mipl/mdms/FileService/komodo/api/ServerInfo.html" title="class in jpl.mipl.mdms.FileService.komodo.api">ServerInfo</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../jpl/mipl/mdms/FileService/komodo/api/ServerProxy.html#getServerInfo()">getServerInfo</a></strong>()</code>
<div class="block">Returns reference to server info object passed-in during construction.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected int</code></td>
<td class="colLast"><code><strong><a href="../../../../../../jpl/mipl/mdms/FileService/komodo/api/ServerProxy.html#putInternal(jpl.mipl.mdms.FileService.komodo.api.Request)">putInternal</a></strong>(jpl.mipl.mdms.FileService.komodo.api.Request&nbsp;profile)</code>
<div class="block">Method to put a request to the request queue.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../jpl/mipl/mdms/FileService/komodo/api/ServerProxy.html#run()">run</a></strong>()</code>
<div class="block">The server proxy run method.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../jpl/mipl/mdms/FileService/komodo/api/ServerProxy.html#runControl()">runControl</a></strong>()</code>
<div class="block">Run implementation for control service.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../jpl/mipl/mdms/FileService/komodo/api/ServerProxy.html#runProxy()">runProxy</a></strong>()</code>
<div class="block">Run implementation for service proxy.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>protected void</code></td>
<td class="colLast"><code><strong><a href="../../../../../../jpl/mipl/mdms/FileService/komodo/api/ServerProxy.html#runPulse()">runPulse</a></strong>()</code>
<div class="block">Run implementation for pulse service.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../../../jpl/mipl/mdms/FileService/komodo/api/ServerProxy.html#toString()">toString</a></strong>()</code>
<div class="block">Returns string representing this serverproxy, including its id.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">

</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">

<ul class="blockList">
<li class="blockList"><a name="field_detail">

</a>
<h3>Field Detail</h3>
<a name="DB_DELTA_MS">

</a>
<ul class="blockList">
<li class="blockList">
<h4>DB_DELTA_MS</h4>
<pre>public static final&nbsp;long DB_DELTA_MS</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../constant-values.html#jpl.mipl.mdms.FileService.komodo.api.ServerProxy.DB_DELTA_MS">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="_id">

</a>
<ul class="blockList">
<li class="blockList">
<h4>_id</h4>
<pre>protected final&nbsp;int _id</pre>
</li>
</ul>
<a name="__nextId">

</a>
<ul class="blockList">
<li class="blockList">
<h4>__nextId</h4>
<pre>protected static&nbsp;int __nextId</pre>
</li>
</ul>
<a name="INTERNAL_TRANSACTION_ID">

</a>
<ul class="blockListLast">
<li class="blockList">
<h4>INTERNAL_TRANSACTION_ID</h4>
<pre>protected final&nbsp;int INTERNAL_TRANSACTION_ID</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../constant-values.html#jpl.mipl.mdms.FileService.komodo.api.ServerProxy.INTERNAL_TRANSACTION_ID">Constant Field Values</a></dd></dl>
</li>
</ul>
</li>
</ul>

<ul class="blockList">
<li class="blockList"><a name="method_detail">

</a>
<h3>Method Detail</h3>
<a name="run()">

</a>
<ul class="blockList">
<li class="blockList">
<h4>run</h4>
<pre>public&nbsp;void&nbsp;run()</pre>
<div class="block">The server proxy run method. <br>
 Dispatches based on thread name for servicing general requests and
 control requests, respectively.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>run</code>&nbsp;in interface&nbsp;<code>java.lang.Runnable</code></dd>
</dl>
</li>
</ul>
<a name="runProxy()">

</a>
<ul class="blockList">
<li class="blockList">
<h4>runProxy</h4>
<pre>protected&nbsp;void&nbsp;runProxy()</pre>
<div class="block">Run implementation for service proxy.  Performs while loop
 waiting for next request command.  If null, this indicates that
 server proxy is finished, so <code>terminate</code> will
 be invoked to alert all threads of this, and then method will 
 return.  Otherwise, the request is decoded and executed.</div>
</li>
</ul>
<a name="runControl()">

</a>
<ul class="blockList">
<li class="blockList">
<h4>runControl</h4>
<pre>protected&nbsp;void&nbsp;runControl()</pre>
<div class="block">Run implementation for control service.  Performs while loop
 waiting for next control command.  If null, this indicates that
 server proxy is finished and this method should return.  Otherwise,
 the request is decoded and executed.</div>
</li>
</ul>
<a name="runPulse()">

</a>
<ul class="blockList">
<li class="blockList">
<h4>runPulse</h4>
<pre>protected&nbsp;void&nbsp;runPulse()</pre>
<div class="block">Run implementation for pulse service.  First, exchanges pulse
 period value with server, then enters thread registering
 no-ops to be exchanged with server to keep connection alive.</div>
</li>
</ul>
<a name="putInternal(jpl.mipl.mdms.FileService.komodo.api.Request)">

</a>
<ul class="blockList">
<li class="blockList">
<h4>putInternal</h4>
<pre>protected&nbsp;int&nbsp;putInternal(jpl.mipl.mdms.FileService.komodo.api.Request&nbsp;profile)</pre>
<div class="block">Method to put a request to the request queue.  No transaction id
 will be created for the request.  It is up to the caller to ensure
 that command will not produce any results.  As such, this method
 should only be called for requests whose transactionId has 
 been set.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>profile</code> - the profile record specifies a request command.</dd>
<dt><span class="strong">Returns:</span></dt><dd>the transaction id</dd></dl>
</li>
</ul>
<a name="getServerInfo()">

</a>
<ul class="blockList">
<li class="blockList">
<h4>getServerInfo</h4>
<pre>public&nbsp;<a href="../../../../../../jpl/mipl/mdms/FileService/komodo/api/ServerInfo.html" title="class in jpl.mipl.mdms.FileService.komodo.api">ServerInfo</a>&nbsp;getServerInfo()</pre>
<div class="block">Returns reference to server info object passed-in during construction.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>Server proxy's server info reference</dd></dl>
</li>
</ul>
<a name="toString()">

</a>
<ul class="blockList">
<li class="blockList">
<h4>toString</h4>
<pre>public&nbsp;java.lang.String&nbsp;toString()</pre>
<div class="block">Returns string representing this serverproxy, including its id.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code>toString</code>&nbsp;in class&nbsp;<code>java.lang.Object</code></dd>
<dt><span class="strong">Returns:</span></dt><dd>This object's string representation.</dd></dl>
</li>
</ul>
<a name="_sendFileChecksum(jpl.mipl.mdms.FileService.io.BufferedStreamIO, jpl.mipl.mdms.FileService.komodo.api.Request, java.lang.String)">

</a>
<ul class="blockListLast">
<li class="blockList">
<h4>_sendFileChecksum</h4>
<pre>protected&nbsp;void&nbsp;_sendFileChecksum(<a href="../../../../../../jpl/mipl/mdms/FileService/io/BufferedStreamIO.html" title="class in jpl.mipl.mdms.FileService.io">BufferedStreamIO</a>&nbsp;io,
                     jpl.mipl.mdms.FileService.komodo.api.Request&nbsp;request,
                     java.lang.String&nbsp;fileName)
                          throws <a href="../../../../../../jpl/mipl/mdms/FileService/komodo/api/SessionException.html" title="class in jpl.mipl.mdms.FileService.komodo.api">SessionException</a></pre>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code><a href="../../../../../../jpl/mipl/mdms/FileService/komodo/api/SessionException.html" title="class in jpl.mipl.mdms.FileService.komodo.api">SessionException</a></code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>


<div class="bottomNav"><a name="navbar_bottom">

</a><a href="/VICAR-DOCS/vicar/core460/html/javadoc/./././././././././././././././jpl/mipl/mdms/FileService/komodo/api/#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">

</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="/VICAR-DOCS/vicar/core460/html/javadoc/./././././././././././././././jpl/mipl/mdms/FileService/komodo/api/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="/VICAR-DOCS/vicar/core460/html/javadoc/./././././././././././././././jpl/mipl/mdms/FileService/komodo/api/package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../jpl/mipl/mdms/FileService/komodo/api/ServerInfo.html" title="class in jpl.mipl.mdms.FileService.komodo.api"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../../jpl/mipl/mdms/FileService/komodo/api/Session.html" title="class in jpl.mipl.mdms.FileService.komodo.api"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?jpl/mipl/mdms/FileService/komodo/api/ServerProxy.html" target="_top">Frames</a></li>
<li><a href="/VICAR-DOCS/vicar/core460/html/javadoc/./././././././././././././././jpl/mipl/mdms/FileService/komodo/api/ServerProxy.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript">
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="/VICAR-DOCS/vicar/core460/html/javadoc/./././././././././././././././jpl/mipl/mdms/FileService/komodo/api/#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="/VICAR-DOCS/vicar/core460/html/javadoc/./././././././././././././././jpl/mipl/mdms/FileService/komodo/api/#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="/VICAR-DOCS/vicar/core460/html/javadoc/./././././././././././././././jpl/mipl/mdms/FileService/komodo/api/#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="/VICAR-DOCS/vicar/core460/html/javadoc/./././././././././././././././jpl/mipl/mdms/FileService/komodo/api/#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">

</a></div>

</body>
</html>
