<HTML>
<HEAD><title>HTML Level 2 Help for RESTORW</title></HEAD>
<BODY>
<H1>Level 2 Help for <A HREF="/VICAR-DOCS/vicar/core510/html/vichelp/restorw.html">RESTORW</A></H1>
<A NAME="inp"><H3>INP</H3></A>
<pre>
The input files to RESTORW are:

1. The image to be restored.

2. Either:
 2a. (if <A HREF="/VICAR-DOCS/vicar/core510/html/vichelp/restorw_level2.html#mode">MODE</A>=<A HREF="/VICAR-DOCS/vicar/core510/html/vichelp/restorw_level2.html#psf">PSF</A>) the image containing the point spread function (PSF),
    which will be extracted using the <A HREF="/VICAR-DOCS/vicar/core510/html/vichelp/restorw_level2.html#area">AREA</A> and <A HREF="/VICAR-DOCS/vicar/core510/html/vichelp/restorw_level2.html#shift">SHIFT</A> parameters by
    invoking program <A HREF="/VICAR-DOCS/vicar/core510/html/vichelp/restorw_level2.html#psf">PSF</A>,
   or:
 2b. (if <A HREF="/VICAR-DOCS/vicar/core510/html/vichelp/restorw_level2.html#mode">MODE</A>=<A HREF="/VICAR-DOCS/vicar/core510/html/vichelp/restorw_level2.html#otf">OTF</A>, default) the optical transfer function (OTF) of the
    degraded image, i.e., the fourier transform of the <A HREF="/VICAR-DOCS/vicar/core510/html/vichelp/restorw_level2.html#psf">PSF</A>.  

3. Optionally, the fourier transform of the desired output point
  spread function.  Normally one desires a delta function for this,
  and this input is not specified.
<p>
<p></pre>


<hr>
<A NAME="out"><H3>OUT</H3></A><pre>
The output file is the restored image.
<p>
<p></pre>


<hr>
<A NAME="size"><H3>SIZE</H3></A><pre>
The standard Vicar2 <A HREF="/VICAR-DOCS/vicar/core510/html/vichelp/restorw_level2.html#size">size</A> parameter: (<A HREF="/VICAR-DOCS/vicar/core510/html/vichelp/restorw_level2.html#sl">SL</A>,<A HREF="/VICAR-DOCS/vicar/core510/html/vichelp/restorw_level2.html#ss">SS</A>,<A HREF="/VICAR-DOCS/vicar/core510/html/vichelp/restorw_level2.html#nl">NL</A>,<A HREF="/VICAR-DOCS/vicar/core510/html/vichelp/restorw_level2.html#ns">NS</A>), or:
 (starting line, starting sample, number of lines, number of samples).

This parameter defines the <A HREF="/VICAR-DOCS/vicar/core510/html/vichelp/restorw_level2.html#area">area</A> in the input image which will be used
for processing.
<p>
<p></pre>


<hr>
<A NAME="sl"><H3>SL</H3></A><pre>
Starting line.
See <A HREF="/VICAR-DOCS/vicar/core510/html/vichelp/restorw_level2.html#size">SIZE</A>.
<p>
<p></pre>


<hr>
<A NAME="ss"><H3>SS</H3></A><pre>
Starting sample.
See <A HREF="/VICAR-DOCS/vicar/core510/html/vichelp/restorw_level2.html#size">SIZE</A>.
<p>
<p></pre>


<hr>
<A NAME="nl"><H3>NL</H3></A><pre>
Number of lines.
See <A HREF="/VICAR-DOCS/vicar/core510/html/vichelp/restorw_level2.html#size">SIZE</A>.
<p>
<p></pre>


<hr>
<A NAME="ns"><H3>NS</H3></A><pre>
Number of samples.
See <A HREF="/VICAR-DOCS/vicar/core510/html/vichelp/restorw_level2.html#size">SIZE</A>.
<p>
<p></pre>


<hr>
<A NAME="sn"><H3>SN</H3></A><pre>
This parameter specifies the signal-to-noise ratio to be used in the
restoration.  See HELP RESTORW for its use in the algorithm.
<p>
<p></pre>


<hr>
<A NAME="ifft"><H3>IFFT</H3></A><pre>
This parameter allows the user to specify a file to contain the
fourier transform of the primary input.  Default is a file in the
local directory.

Possible reasons to specify this include problems in the default
directory, a desire to save this file for further processing, or
spreading of the I/O to different disks to avoid head contention.
<p>
<p></pre>


<hr>
<A NAME="offt"><H3>OFFT</H3></A><pre>
This parameter allows the user to specify a file to contain the
fourier transform of the output image.  Default is a file in the
local directory.

Possible reasons to specify this include problems in the default
directory, a desire to save this file for further processing, or
spreading of the I/O to different disks to avoid head contention.
<p>
<p></pre>


<hr>
<A NAME="mode"><H3>MODE</H3></A><pre>
This keyword parameter allows the user to specify whether the procedure
should compute the optical transfer function (<A HREF="/VICAR-DOCS/vicar/core510/html/vichelp/restorw_level2.html#otf">OTF</A>) from a point spread
function (<A HREF="/VICAR-DOCS/vicar/core510/html/vichelp/restorw_level2.html#psf">PSF</A>) contained in the second input image, or whether the
<A HREF="/VICAR-DOCS/vicar/core510/html/vichelp/restorw_level2.html#otf">OTF</A> will be supplied directly by the user.

<A HREF="/VICAR-DOCS/vicar/core510/html/vichelp/restorw_level2.html#mode">MODE</A> = <A HREF="/VICAR-DOCS/vicar/core510/html/vichelp/restorw_level2.html#psf">PSF</A>: second input is an image containing the PSF.  In this case
           the parameter <A HREF="/VICAR-DOCS/vicar/core510/html/vichelp/restorw_level2.html#area">AREA</A> must be specified.

<A HREF="/VICAR-DOCS/vicar/core510/html/vichelp/restorw_level2.html#mode">MODE</A> = <A HREF="/VICAR-DOCS/vicar/core510/html/vichelp/restorw_level2.html#otf">OTF</A>: second input is the optical transfer function.  In this case,
           the parameters <A HREF="/VICAR-DOCS/vicar/core510/html/vichelp/restorw_level2.html#area">AREA</A>, <A HREF="/VICAR-DOCS/vicar/core510/html/vichelp/restorw_level2.html#shift">SHIFT</A>, <A HREF="/VICAR-DOCS/vicar/core510/html/vichelp/restorw_level2.html#otf">OTF</A>, and <A HREF="/VICAR-DOCS/vicar/core510/html/vichelp/restorw_level2.html#psf">PSF</A> are ignored.

<p>
<p></pre>


<hr>
<A NAME="psf"><H3>PSF</H3></A><pre>
This parameter allows the user to specify a file to contain the
point spread function, if <A HREF="/VICAR-DOCS/vicar/core510/html/vichelp/restorw_level2.html#mode">MODE</A>=<A HREF="/VICAR-DOCS/vicar/core510/html/vichelp/restorw_level2.html#psf">PSF</A> has been specified.  Default is
a file in the local directory.

Possible reasons to specify this include problems in the default
directory, a desire to save this file for further processing, or
spreading of the I/O to different disks to avoid head contention.
<p>
<p></pre>


<hr>
<A NAME="otf"><H3>OTF</H3></A><pre>
This parameter allows the user to specify a file to contain the
fourier transform of the <A HREF="/VICAR-DOCS/vicar/core510/html/vichelp/restorw_level2.html#psf">PSF</A> (if <A HREF="/VICAR-DOCS/vicar/core510/html/vichelp/restorw_level2.html#mode">MODE</A>=PSF has been specified.)
Default is a file in the local directory.

Possible reasons to specify this include problems in the default
directory, a desire to save this file for further processing, or
spreading of the I/O to different disks to avoid head contention.
<p>
<p></pre>


<hr>
<A NAME="scratch"><H3>SCRATCH</H3></A><pre>
This parameter allows the user to specify a file to contain the
<A HREF="/VICAR-DOCS/vicar/core510/html/vichelp/restorw_level2.html#scratch">scratch</A> file needed by procedure FFT22.
Default is a file in the local directory.

Possible reasons to specify this include problems in the default
directory, a desire to save this file for further processing, or
spreading of the I/O to different disks to avoid head contention.
<p>
<p></pre>


<hr>
<A NAME="area"><H3>AREA</H3></A><pre>
This parameter specifies the <A HREF="/VICAR-DOCS/vicar/core510/html/vichelp/restorw_level2.html#area">area</A> of second input image containing
the <A HREF="/VICAR-DOCS/vicar/core510/html/vichelp/restorw_level2.html#psf">PSF</A>, if <A HREF="/VICAR-DOCS/vicar/core510/html/vichelp/restorw_level2.html#mode">MODE</A>=PSF has been specified. (Otherwise it is ignored.)

It follows the same convention as the <A HREF="/VICAR-DOCS/vicar/core510/html/vichelp/restorw_level2.html#size">SIZE</A> parameter, i.e.:
 (starting line, starting sample, number of lines, number of samples).

The <A HREF="/VICAR-DOCS/vicar/core510/html/vichelp/restorw_level2.html#shift">SHIFT</A> keyword specifies whether the final <A HREF="/VICAR-DOCS/vicar/core510/html/vichelp/restorw_level2.html#psf">PSF</A> may lie outside this
<A HREF="/VICAR-DOCS/vicar/core510/html/vichelp/restorw_level2.html#area">area</A>, after the centroid has been determined.
<p>
<p></pre>


<hr>
<A NAME="shift"><H3>SHIFT</H3></A><pre>
This parameter specifies whether the <A HREF="/VICAR-DOCS/vicar/core510/html/vichelp/restorw_level2.html#psf">PSF</A> extracted from the second input
(if <A HREF="/VICAR-DOCS/vicar/core510/html/vichelp/restorw_level2.html#mode">MODE</A>=<A HREF="/VICAR-DOCS/vicar/core510/html/vichelp/restorw_level2.html#psf">PSF</A> has been specified) will be allowed to lie partially ooutside
the <A HREF="/VICAR-DOCS/vicar/core510/html/vichelp/restorw_level2.html#area">area</A> specified by the AREA parameter, after its centroid has been
determined.  If NOSHIFT is specified, then the <A HREF="/VICAR-DOCS/vicar/core510/html/vichelp/restorw_level2.html#size">size</A> of the <A HREF="/VICAR-DOCS/vicar/core510/html/vichelp/restorw_level2.html#psf">PSF</A> will be
reduced if necessary to keep it inside the specified <A HREF="/VICAR-DOCS/vicar/core510/html/vichelp/restorw_level2.html#area">area</A>.
<p>
<p></pre>

</BODY>
</HTML>
