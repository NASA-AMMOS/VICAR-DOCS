<HTML>
<HEAD><title>HTML Help for SIZEMGN</title></HEAD>
<BODY>
<H1>Help for SIZEMGN</H1>
<pre>
PURPOSE:
SIZEMGN is a VICAR applications program which may be used to magnify or compress
the <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#size">size</A> of an image and/or change its aspect ratio.  This program is largely
identical to program <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#size">SIZE</A>, but contains special features to support Magellan
(MGN) processing not present in the latter program.  

EXECUTION STATEMENT:

      SIZEMGN  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#inp">INP</A>=IPIC  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#out">OUT</A>=OPIC  user-parameters...

where IPIC is the input image and OPIC is the output image.  IPIC and OPIC
may be in byte, halfword (16-bit integer), fullword (32-bit integer), or
floating point (REAL*4) data format.

OPIC will normally have the same data format as IPIC.  Use the <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#oform">OFORM</A> parameter
to change the output format.

SIZEMGN performs  bilinear interpolation to magnify or compress the image.
The '<A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#noin">NOIN</A> keyword may be used to suppress interpolation.  See sections on image
magnification and reduction below.

OPERATION:

The <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#size">size</A> of the output image is specified in one of two ways:

(1) Explicitly specifying it with the <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#nl">NL</A> and <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#ns">NS</A> parameters:

        SIZEMGN  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#inp">INP</A>  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#out">OUT</A>  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#nl">NL</A>=500  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#ns">NS</A>=500
    or  SIZEMGN  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#inp">INP</A>  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#out">OUT</A>  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#size">SIZE</A>=(1,1,500,500)

(2) Specifying a magnification or compression (<A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#zoom">zoom</A>) factor:

        SIZEMGN  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#inp">INP</A>  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#out">OUT</A>  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#zoom">ZOOM</A>=3		! 3x magnification
        SIZEMGN  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#inp">INP</A>  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#out">OUT</A>  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#zoom">ZOOM</A>=-2         ! 2x compression
    or  SIZEMGN  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#inp">INP</A>  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#out">OUT</A>  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#zoom">ZOOM</A>=0.5        ! 2x compression

The <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#zoom">ZOOM</A> factor can be a floating point value.
A negative <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#zoom">ZOOM</A> results in image compression.  I.e. ZOOM= -2.5 is the
same as <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#zoom">ZOOM</A>=0.4

Note the if both <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#nl">NL</A>,<A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#ns">NS</A> ans <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#zoom">ZOOM</A> are specified, the ZOOM parameter will
determine the magnification/compression factor and <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#nl">NL</A>,<A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#ns">NS</A> will determine the
<A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#size">size</A> of the output image.

Independent zooms may be specified in the line (vertical) and sample
(horizontal) directions:

        SIZEMGN  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#inp">INP</A>  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#out">OUT</A>  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#lzoom">LZOOM</A>=2  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#szoom">SZOOM</A>=3
        SIZEMGN  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#inp">INP</A>  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#out">OUT</A>  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#lzoom">LZOOM</A>=3  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#szoom">SZOOM</A>=-2

As the last example implies, the image may be magnified in one direction
and compressed in the other.

The <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#area">AREA</A> parameter may be used to restrict processing to an area of the
input image.  For example:

		SIZEMGN  IPIC  OPIC  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#zoom">ZOOM</A>=-3  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#area">AREA</A>=(10,10,100,100)
is equivalent to
		COPY  IPIC  IDS  (10,10,100,100)
		SIZEMGN  IDS  OPIC  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#zoom">ZOOM</A>=-3

The output data format may be different from the input format (see <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#oform">OFORM</A>
keyword).  The image DNs may be optionally rescaled at this point via parameter
<A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#scale">SCALE</A>.  Note that rescaling may be necessary when converting to a smaller data
format (e.g. halfword-to-byte).  If a sample value is outside the range of the
output format (e.g. 0 to 255 DN for byte data), the output DN will be truncated.
The output DN range may be further limited via the <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#limits">LIMITS</A> parameter.

SPECIFYING THE <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#size">SIZE</A> OF THE OUTPUT IMAGE:

The <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#size">size</A> of the output image is specified either by entering the number of
lines and samples in the VICAR <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#size">size</A> field, or by specifying a magnification
or compression factor via the <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#zoom">ZOOM</A>, <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#lzoom">LZOOM</A>, or <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#szoom">SZOOM</A> parameters:

Ex:  Enlarging a 3x3 image to a 9x9 image can be achieved in the
     following equivalent ways:

		SIZEMGN  A  B  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#size">SIZE</A>=(1,1,9,9)
        or      SIZEMGN  A  B  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#nl">NL</A>=9  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#ns">NS</A>=9
	or	SIZEMGN  A  B  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#zoom">ZOOM</A>=3
        or      SIZEMGN  A  B  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#lzoom">LZOOM</A>=3  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#szoom">SZOOM</A>=3

If the output image <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#size">size</A> is specified by entering the number of lines and
samples, then the <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#zoom">ZOOM</A> factor is determined by computing the ratio between
the output and input picture dimensions.  Independent <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#zoom">ZOOM</A> factors are
computed in the line and sample dimensions, and may result in a change in
the image aspect ratio:

	z1=NLO/NLI		z2=NSO/NSI

where the input image <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#size">size</A> is NLI x NSI and the output image size is NLO x NSO.
The computations are performed in floating point, so that the output picture
<A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#size">size</A> is not necessarily a multiple of the input picture size (i.e. z1 and
z2 are floating-point numbers).

The <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#zoom">ZOOM</A> factors may be specified via the ZOOM parameter,
		    <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#zoom">ZOOM</A>=z
where z1=z2=z, or independently via the <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#lzoom">LZOOM</A> and <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#szoom">SZOOM</A> parameters:
		<A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#lzoom">LZOOM</A>=z1  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#szoom">SZOOM</A>=z2

When the <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#zoom">zoom</A> factor is an integer, it is identical in function to the ZOOM
option in program XVD.  If z is positive, the input picture <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#size">size</A>
is multiplied by z.  If z is negative, the picture <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#size">size</A> is divided by -z.
Note that z=-2 is equivalent to z=0.5.

Specification of a <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#zoom">zoom</A> factor does not override the corresponding <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#nl">NL</A> and/or 
<A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#ns">NS</A> values in the VICAR <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#size">SIZE</A> field.  If a value of <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#nl">NL</A> or NS is specified that 
is smaller than <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#zoom">ZOOM</A>*(input <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#nl">NL</A> or <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#ns">NS</A>), then the image will be truncated in
that dimension.  If greater, then a blank <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#area">area</A> will be appended on the
bottom or right edge, respectively.

The <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#ioffset">IOFFSET</A> parameter may be used to start the output image at a (line,sample)
coordinate other than (1,1).  Let the input image be:

                           1  2  3
                           2  3  4
                           3  4  5

then
		SIZEMGN  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#inp">INP</A>  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#out">OUT</A>  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#nl">NL</A>=8  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#ns">NS</A>=8  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#zoom">ZOOM</A>=2  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#ioffset">IOFFSET</A>=(2,2)  '<A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#noin">NOIN</A>

will result in the following:

                    0  0  0  0  0  0  0  0
                    0  1  1  2  2  3  3  0
                    0  1  1  2  2  3  3  0
                    0  2  2  3  3  4  4  0
                    0  2  2  3  3  4  4  0
                    0  3  3  4  4  5  5  0
                    0  3  3  4  4  5  5  0
                    0  0  0  0  0  0  0  0

IMAGE MAGNIFICATION:

The following example illustrates how image magnification is treated. Let
the input picture A be a 3x3 image as follows:

			       2  5  8
			A  =   5  8 11
			       8 11 14

The statement
		SIZEMGN  A  B  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#size">SIZE</A>=(1,1,9,9)  '<A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#noin">NOIN</A>
	or	SIZEMGN  A  B  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#zoom">ZOOM</A>=3  '<A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#noin">NOIN</A>

will produce a 9x9 output image B by replicating each input sample into a
3x3 pixel <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#area">area</A>:

		       2  2  2  5  5  5  8  8  8
		       2  2  2  5  5  5  8  8  8
		       2  2  2  5  5  5  8  8  8
		       5  5  5  8  8  8 11 11 11
		B  =   5  5  5  8  8  8 11 11 11
		       5  5  5  8  8  8 11 11 11
		       8  8  8 11 11 11 14 14 14
		       8  8  8 11 11 11 14 14 14
		       8  8  8 11 11 11 14 14 14

The statement
		SIZEMGN  A  B  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#size">SIZE</A>=(1,1,9,9)  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#zoom">ZOOM</A>=3

will produce a 9x9 output image by interpolating between the four nearest
neighbors and extrapolating around the picture borders.

		       0  1  2  3  4  5  6  7  8
		       1  2  3  4  5  6  7  8  9
		       2  3  4  5  6  7  8  9 10
		       3  4  5  6  7  8  9 10 11
		B  =   4  5  6  7  8  9 10 11 12
		       5  6  7  8  9 10 11 12 13
		       6  7  8  9 10 11 12 13 14
		       7  8  9 10 11 12 13 14 15
		       8  9 10 11 12 13 14 15 16

As in the no-interpolation case above, each input sample has been "blown up"
to fill a 3x3 <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#area">area</A>.  However, because interpolation is performed, the input
sample values equal the output sample values only at the geometric centers
of these 3x3 areas.

Note that the magnified image output by SIZEMGN differs slightly from what one
might obtain using GEOM, MGEOM, or GEOMA. The user may find it instructive
to attempt to achieve an identical result as the example above by using GEOM
or GEOMA.

IMAGE COMPRESSION:

Image compression is treated as the functional inverse of image magnification.
Unless the keyword '<A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#noin">NOIN</A> is specified, the compression is performed via <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#area">area</A>
averaging.  To illustrate, let picture B be the 9x9 image of our previous
example:

		       0  1  2  3  4  5  6  7  8
		       1  2  3  4  5  6  7  8  9
		       2  3  4  5  6  7  8  9 10
		       3  4  5  6  7  8  9 10 11
		B  =   4  5  6  7  8  9 10 11 12
		       5  6  7  8  9 10 11 12 13
		       6  7  8  9 10 11 12 13 14
		       7  8  9 10 11 12 13 14 15
		       8  9 10 11 12 13 14 15 16

The statement:
		SIZEMGN  B  C  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#zoom">ZOOM</A>=-3

will cause each output pixel to be computed by averaging a 3x3 <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#area">area</A> of
the input image.  For example, output pixel (1,1) = (0+1+2+1+2+3+2+3+4)/9
The resulting output image C will be identical to our original input image A:

			       2  5  8
			C  =   5  8 11
			       8 11 14

The <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#area">area</A> averaging operation is extended to non-itegral <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#zoom">zoom</A> factors by
assigning fractional weights to samples around the <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#area">area</A> margins, and unit
weights to interior samples. The output sample is then the weighted samples
divided by the sum of their weights.

If the keyword '<A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#noin">NOIN</A> is specified,

		SIZEMGN  IPIC  OPIC  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#zoom">ZOOM</A>=-N  '<A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#noin">NOIN</A>

then no pixel interpolation is performed.  The output image is generated
by selecting every Nth image line from IPIC, and every Nth pixel of each of
these lines, begining with pixel (1,1).  Note that when the output picture
is several times smaller than the input picture, most of the samples in the
input image are ignored in the generation of the output image.

To illustrate, let picture B be the 9x9 image of our previous example:

		       0  1  2  3  4  5  6  7  8
		       1  2  3  4  5  6  7  8  9
		       2  3  4  5  6  7  8  9 10
		       3  4  5  6  7  8  9 10 11
		B  =   4  5  6  7  8  9 10 11 12
		       5  6  7  8  9 10 11 12 13
		       6  7  8  9 10 11 12 13 14
		       7  8  9 10 11 12 13 14 15
		       8  9 10 11 12 13 14 15 16

The statements:
		SIZEMGN  B  C  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#zoom">ZOOM</A>=-3  '<A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#noin">NOIN</A>
		SIZEMGN  B  D  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#zoom">ZOOM</A>=-3  '<A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#noin">NOIN</A>  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#area">AREA</A>=(2,2,8,8)

will generate 3x3 output images C and D of the form:

		0  3  6		       2  5  8
	 C  =	3  6  9		D  =   5  8 11
		6  9 12		       8 11 14

Note the use of the <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#area">AREA</A> parameter to begin the resampling at a point other
than pixel (1,1).

The input image may be compressed by a non-integral <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#zoom">zoom</A> factor r:

		SIZEMGN  IPIC  OPIC  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#zoom">ZOOM</A>=r  '<A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#noin">NOIN</A>

where r is a floating point number between 0 and 1.  Each output sample is
generated by determining where it comes from in the input image and selecting
the sample closest to this point.

UPDATING OF MAP PROJECTION LABEL INFORMATION:

If the input image has map projection labels, the projection information
will be updated to reflect changes in the geometry as a result of <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#size">size</A>
changes and image offsets (see <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#area">AREA</A> and <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#ioffset">IOFFSET</A> parameters).  A new map
projection history label is added and the map projection property label
is updated.

If the map projection is POINT PERSPECTIVE, the following label items are
recomputed:

    FOCAL_PLANE_SCALE
    OPT_AXIS_INTERCEPT_LINE
    OPT_AXIS_INTERCEPT_SAMPLE
    PLANET_CENTER_LINE
    PLANET_CENTER_SAMPLE

For all other projections, the following label items are recomputed:

    LINE_PROJECTION_OFFSET
    SAMPLE_PROJECTION_OFFSET
    MAP_SCALE
    MAP_RESOLUTION

If either MAP_SCALE or MAP_RESOLUTION is missing from the input projection
label, it is computed from the other using the relationship: 

                      PI
     MAP_RESOLUTION = --- * A_AXIS_RADIUS/MAP_SCALE
                      180

<A NAME="examples">EXAMPLES:</A>

Let the input image be a 100 x 100 byte picture. The following equivalent
statements will magnify the input image by a factor of 2.5:

		SIZEMGN  A  B  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#size">SIZE</A>=(1,1,250,250)
		SIZEMGN  A  B  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#zoom">ZOOM</A>=2.5

To blow up a 50x50 <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#area">area</A> from the center of the picture by a factor of 4:

		SIZEMGN  A  B  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#zoom">ZOOM</A>=4  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#area">AREA</A>=(26,26,50,50)

To average all the lines of an image together, use

		SIZEMGN  A  B  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#nl">NL</A>=1

The following equivalent statements magnify the line direction by 2 and
shrinks the sample direction by 2:

		SIZEMGN  A  B  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#size">SIZE</A>=(1,1,200,50)
		SIZEMGN  A  B  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#lzoom">LZOOM</A>=2  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#szoom">SZOOM</A>=-2

MAGELLAN SPECIFIC OPTIONS:

Special code has been added to SIZEMGN to convert Magellan data to units of
<A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#volts">volts</A> before compressing the image.  The pixels are subsequently converted
back to DN prior to output.  Both input and output images must be in byte
format.  The input image must contain more than one sample per line.
The Magellan option is implemented for image compression and integral <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#zoom">ZOOM</A>
values only.  The <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#noin">NOIN</A>, <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#limits">LIMITS</A> and <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#scale">SCALE</A> parameters are illegal with this
option.

The Magellan option is currently implemented using two competing algorithms:
If keyword '<A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#lookup">LOOKUP</A> is specified, the program uses tables input from external
files to convert the input samples from DNs to voltages and to convert the
output samples from voltages to DNs.  If the keyword '<A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#volts">VOLTS</A> is specified,
the program performs the conversions using tables computed internally.  The
'<A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#lookup">LOOKUP</A> algorithm is 20 percent faster, but introduces a random error of 0.5 DN
with a maximum error of 20 DN.  The error is greatest at low DN levels.

The next two sections describe the <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#lookup">LOOKUP</A> and <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#volts">VOLTS</A> keywords.
<A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#lookup">LOOKUP</A> KEYWORD:

If the '<A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#lookup">LOOKUP</A> keyword is specified, the DN-to-<A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#volts">volts</A> and volts-to-DN tables
are read from files specified by the <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#dvdata">DVDATA</A> and <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#vddata">VDDATA</A> parameters.  Both <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#lookup">lookup</A>
tables may be generated via VICAR procedure SIZELOOKUP.  If defaulted, files
MGNSIZED.DAT and MGNSIZEV.DAT are read from MGNLIB.

The DN-to-<A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#volts">volts</A> table is in fullword (INTEGER*4) data format and contains
256 entries (for DNs 0 to 255).  The entries in this table are assumed to be
non-negative.  The table must be input from a file in standard VICAR image
format, consisting of one line of 256 samples.

The <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#volts">Volts</A>-to-DN table is in byte format and contains at least N entries, where
N is the maximum value stored in the DN-to-<A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#volts">volts</A> table (N &lt 1250000).

Ex:    SIZEMGN  IPIC  OPIC  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#zoom">ZOOM</A>=-3  '<A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#lookup">LOOKUP</A>
  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#lookup">Lookup</A> tables MGNSIZED.DAT and MGNSIZEV.DAT are automatically accessed from
  directory MGNLIB.

Ex:    SIZELOOKUP  OUT_DIR=DEV:[JOE123]
       SIZEMGN  IPIC  OPIC  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#zoom">ZOOM</A>=-4  '<A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#lookup">LOOKUP</A>  	  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#dvdata">DVDATA</A>=DEV:[JOE123]MGNSIZED.DAT  	  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#vddata">VDDATA</A>=DEV:[JOE123]MGNSIZEV.DAT

  The procedure SIZELOOKUP is used to compute external <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#lookup">lookup</A> tables
  MGNSIZED.DAT and MGNSIZEV.DAT in directory DEV:[JOE123].  The <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#dvdata">DVDATA</A> and
  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#vddata">VDDATA</A> parameters are used to input these files to SIZEMGN.

<A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#volts">VOLTS</A> KEYWORD:

If the '<A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#volts">VOLTS</A> keyword is specified, conversion tables are computed internally
using the following formulas:
	a)  v = 10**((d-b)/a)
        b)  d = a*logv + b
where v=<A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#volts">volts</A>, d=DN, a=<A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#slope">slope</A>, b=<A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#offset">offset</A>.  The slope and offset may be specified
via the <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#slope">SLOPE</A> and <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#offset">OFFSET</A> parameters.

The <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#volts">volts</A>-to-DN conversion is accomplished by computing a 2250 entry logrithmic
table.  When the default <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#slope">slope</A> (50) is used, this table introduces a 0.1 DN
random error, with a maximum error of 1 DN.  Larger slopes will result in 
correspondingly larger errors.

PROGRAM RESTRICTIONS:

Both IPIC and OPIC may be up to 20,000 pixels in width (sample <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#size">size</A>) and of
arbitrary length (line or vertical dimension).

The input image may be on tape or disk.  However, the output image must be on
random-access disk storage.


PROGRAM HISTORY:

Written by: Gary Yagi, 26 January 1976
<A NAME="CogProg">Cognizant programmer: Ray Bambery</A>

Revision history:

    Jun 06, 2012 - R. J. Bambery - gfortran 4.6.3 changed all dimension (1) values to (*)
                                in subroutines to avoid
        "Fortran runtime error: Index '2' of dimension 1 of array 'id' above upper bound of 1"
    06 May 1011 R.J. Bambery - removed warning messages by gfortran 4.4.4 
                    compiler
    10 Feb 04  lwk  Renamed <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#size">SIZE</A> to SIZEMGN in order to preserve Magellan
		            functionality removed from new version of <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#size">SIZE</A>.

For previous history, see <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#size">SIZE</A>.PDF.

</pre>
<hr>
<H2>PARAMETERS:</H2>
<HR><A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#inp"><H3>INP</H3></A>
Input image.
<HR><A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#out"><H3>OUT</H3></A>
Output image.
<HR><A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#size"><H3>SIZE</H3></A>
Output picture <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#size">size</A>.
<HR><A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#nl"><H3>NL</H3></A>
Output number of lines
picture.
<HR><A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#ns"><H3>NS</H3></A>
Output number of samples
picture.
<HR><A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#oform"><H3>OFORM</H3></A>
Output data format.
Valid keywords are BYTE, HALF,
FULL, or REAL.
<HR><A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#area"><H3>AREA</H3></A>
Input image <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#area">area</A> to be SIZEd
<HR><A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#ioffset"><H3>IOFFSET</H3></A>
<A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#offset">Offset</A> output image:
  <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#offset">OFFSET</A>=(SLO,SSO)
<HR><A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#noin"><H3>NOIN</H3></A>
Specifies no interpolation.
<HR><A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#zoom"><H3>ZOOM</H3></A>
Specifies the <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#zoom">ZOOM</A> factor.
<HR><A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#lzoom"><H3>LZOOM</H3></A>
Vertical <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#zoom">zoom</A> factor.
<HR><A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#szoom"><H3>SZOOM</H3></A>
Horizontal <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#zoom">zoom</A> factor.
<HR><A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#scale"><H3>SCALE</H3></A>
<A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#scale">Scale</A> applied to output values.
<HR><A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#limits"><H3>LIMITS</H3></A>
Lower and upper <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#limits">limits</A> of DN
range.
<HR><A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#lookup"><H3>LOOKUP</H3></A>
Magellan specific option to
compress an image.
<HR><A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#vddata"><H3>VDDATA</H3></A>
Magellan specific option.
Specifies <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#lookup">lookup</A> table for
converting <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#volts">volts</A> to DNs.
<HR><A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#dvdata"><H3>DVDATA</H3></A>
Magellan specific option.
Specifies <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#lookup">lookup</A> table for
converting DNs to <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#volts">volts</A>.
<HR><A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#volts"><H3>VOLTS</H3></A>
Magellan specific option to
compress an image.
<HR><A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#slope"><H3>SLOPE</H3></A>
Magellan specific option
Specifies <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#slope">slope</A> of <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#volts">volts</A>-to-dn
conversion
<HR><A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#offset"><H3>OFFSET</H3></A>
Magellan specific option
Specifies <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#offset">offset</A> of <A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#volts">volts</A>-to-dn
conversion.
<HR><A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn_level2.html#debug"><H3>DEBUG</H3></A>
Print status message.

<HR><A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn.html#examples"><H4>See Examples:</H4></A>
<HR><A HREF="/VICAR-DOCS/vicar/core500/html/vichelp/sizemgn.html#CogProg"><H4>Cognizant Programmer:</H4></A>
</BODY>
</HTML>
